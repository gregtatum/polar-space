{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","js/Main.js","../../js/Components/Hid.js","../../js/LevelLoader.js","../../js/Poem.js","../../js/Ship.js","../../js/components/Camera.js","../../js/components/CameraIntro.js","../../js/components/CylinderLines.js","../../js/components/Damage.js","../../js/components/Hid.js","../../js/components/ScoringAndWinning.js","../../js/components/Stars.js","../../js/components/Titles.js","../../js/entities/Asteroid.js","../../js/entities/Bullet.js","../../js/entities/JellyShip.js","../../js/entities/Jellyship.js","../../js/levels/asteroidsJellies.js","../../js/levels/index.js","../../js/levels/intro.js","../../js/levels/titles.js","../../js/managers/AsteroidField.js","../../js/managers/EntityManager.js","../../js/managers/Gun.js","../../js/sound/Music.js","../../js/sound/SoundGenerator.js","../../js/utils/Clock.js","../../js/utils/Collider.js","../../js/utils/Coordinates.js","../../js/utils/EventDispatcher.js","../../js/utils/Stats.js","../../js/utils/random.js","../../node_modules/browserify/lib/_empty.js","../../node_modules/browserify/node_modules/querystring-es3/decode.js","../../node_modules/browserify/node_modules/querystring-es3/encode.js","../../node_modules/browserify/node_modules/querystring-es3/index.js","../../node_modules/soundcloud-badge/index.js","../../node_modules/soundcloud-badge/node_modules/google-fonts/index.js","../../node_modules/soundcloud-badge/node_modules/insert-css/index.js","../../node_modules/soundcloud-badge/node_modules/minstache/index.js","../../node_modules/soundcloud-badge/node_modules/soundcloud-resolve/browser.js","../../node_modules/soundcloud-badge/node_modules/soundcloud-resolve/node_modules/xhr/index.js","../../node_modules/soundcloud-badge/node_modules/soundcloud-resolve/node_modules/xhr/node_modules/global/window.js","../../node_modules/soundcloud-badge/node_modules/soundcloud-resolve/node_modules/xhr/node_modules/once/once.js","../../node_modules/underscore/underscore.js"],"names":[],"mappings":"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","file":"bundle.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var LevelLoader = require('./LevelLoader');\n\n$(function() {\n\tLevelLoader(\"titles\");\n\t// LevelLoader(\"intro\");\n});","var EventDispatcher = require('../utils/EventDispatcher');\n\nwindow.HIDtype = \"keys\";\n\nvar HID = function( poem ) {\n\n\tthis.poem = poem;\n\t\n\tvar states = {\n\t\tup: false,\n\t\tdown: false,\n\t\tleft: false,\n\t\tright: false,\n\t\tspacebar: false\n\t};\n\t\n\tthis.keyCodes = {\n\t\t\"k38\" : \"up\",\n\t\t\"k40\" : \"down\",\n\t\t\"k37\" : \"left\",\n\t\t\"k39\" : \"right\",\n\t\t\"k32\" : \"spacebar\"\n\t};\n\t\n\tthis.tilt = {\n\t\tx: 0,\n\t\ty: 0\n\t};\n\tthis.pressed = _.clone(states);\n\tthis.down = _.clone(states);\n\tthis.up = _.clone(states);\n\t\n\tif( window.HIDtype === \"keys\" ) {\n\t\tthis.setKeyHandlers();\n\t} else {\n\t\tthis.setTiltHandlers();\n\t}\n\t\n};\n\nHID.prototype = {\n\t\n\tsetKeyHandlers : function() {\n\t\t\n\t\t$(window).on( 'keydown.HID', this.keydown.bind(this) );\n\t\t$(window).on( 'keyup.HID', this.keyup.bind(this) );\n\t\n\t\tthis.poem.on( \"destroy\", function() {\n\t\t\t$(window).off( 'keydown.HID' );\n\t\t\t$(window).off( 'keyup.HID' );\n\t\t});\n\t\t\n\t},\n\t\n\tsetTiltHandlers : function() {\n\n\n\t\t$(window).on( 'deviceorientation.HID', this.handleTilt.bind(this) );\n\t\t// window.addEventListener('deviceorientation', this.handleTilt.bind(this), false);\n\t\t\n\t\t$(\"canvas\").on( 'touchstart.HID', this.handleTouchStart.bind(this) );\n\t\t$(\"canvas\").on( 'touchend.HID', this.handleTouchEnd.bind(this) );\n\n\t\tthis.poem.on( \"destroy\", function() {\n\t\t\t$(window).off( 'deviceorientation.HID' );\n\t\t\t$(\"canvas\").off( 'touchstart.HID' );\n\t\t\t$(\"canvas\").off( 'touchend.HID' );\n\t\t});\n\t\t\n\t},\n\t\n\ttype : function() {\n\t\treturn window.HIDtype;\n\t},\n\t\n\tsetKeys : function() {\n\t\twindow.HIDtype = \"keys\";\n\t},\n\t\n\tsetTilt : function() {\n\t\twindow.HIDtype = \"tilt\";\t\t\n\t},\n\t\n\tkeydown : function( e ) {\n\t\tvar code = this.keyCodes[ \"k\" + e.keyCode ];\n\t\t\n\t\tif(code) {\n\t\t\tthis.down[code] = true;\n\t\t\tthis.pressed[code] = true;\n\t\t}\n\t},\n\t\n\tkeyup : function( e ) {\n\t\tvar code = this.keyCodes[ \"k\" + e.keyCode ];\n\t\t\n\t\tif(code) {\n\t\t\tthis.pressed[code] = false;\n\t\t\tthis.up[code] = true;\n\t\t}\n\t},\n\t\n\thandleTilt : function(e) {\n\t\t\n\t\tvar event, orientation, angle;\n\t\t\n\t\tevent = e.originalEvent;\n\t\torientation = window.orientation || screen.orientation;\n\t\t\n\t\tif(_.isObject( screen.orientation ) ) {\n\t\t\tangle = screen.orientation.angle;\n\t\t} else if ( _.isNumber( window.orientation ) ) {\n\t\t\tangle = window.orientation;\n\t\t} else {\n\t\t\tangle = 0;\n\t\t}\n\t\t\n\t\tif(angle === 0) {\n\t\t\tthis.tilt = {\n\t\t\t\tx: event.gamma,\n\t\t\t\ty: event.beta * -1\n\t\t\t};\n\t\t} else if (angle > 0) {\n\t\t\tthis.tilt = {\n\t\t\t\tx: event.beta,\n\t\t\t\ty: event.gamma\n\t\t\t};\n\t\t} else {\n\t\t\tthis.tilt = {\n\t\t\t\tx: event.beta * -1,\n\t\t\t\ty: event.gamma * -1\n\t\t\t};\n\t\t}\n\t\t\n\t},\n\t\n\thandleTouchStart : function(e) {\n\t\te.preventDefault();\n\t\tthis.pressed.spacebar = true;\n\t},\n\t\n\thandleTouchEnd : function(e) {\n\t\tvar touches = e.originalEvent.touches;\n\t\tthis.pressed.spacebar = (touches.length !== 0);\n\t\t\n\t},\n\t\n\tupdate : function() {\n\t\t\n\t\tvar falsify = function (value, key, list) {\n\t\t\tlist[key] = false;\n\t\t};\n\t\t\n\t\treturn function() {\n\t\t\t_.each( this.down, falsify );\n\t\t\t_.each( this.up, falsify );\n\t\t};\n\t\t\n\t}()\n\t\n};\n\nEventDispatcher.prototype.apply( HID.prototype );\n\nmodule.exports = HID;\n","var Poem = require('./Poem');\nvar levels = require('./levels');\n\nvar currentLevel = null;\nvar currentPoem = null;\n\nwindow.LevelLoader = function( name ) {\n\t\n\tif(currentPoem) currentPoem.destroy();\n\t\n\tcurrentLevel = levels[name];\n\tcurrentPoem = new Poem( currentLevel );\n\twindow.poem = currentPoem;\n\n};\n\t\nmodule.exports = LevelLoader;","var Coordinates = require('./utils/Coordinates');\nvar Camera = require('./components/Camera');\nvar Gun = require('./managers/Gun');\nvar Ship = require('./Ship');\nvar Stars = require('./components/Stars');\nvar AsteroidField = require('./managers/AsteroidField');\nvar Stats = require('./utils/Stats');\nvar EventDispatcher = require('./utils/EventDispatcher');\nvar JellyShip = require('./entities/JellyShip');\nvar EntityManager = require('./managers/EntityManager');\nvar ScoringAndWinning = require('./components/ScoringAndWinning');\nvar Clock = require('./utils/Clock');\n\nvar renderer;\n\nvar Poem = function( level ) {\n\n\tthis.circumference = level.config.circumference || 750;\n\tthis.height = level.config.height || 120;\n\tthis.r = level.config.r || 240;\n\tthis.circumferenceRatio = (2 * Math.PI) / this.circumference; //Map 2d X coordinates to polar coordinates\n\tthis.ratio = window.devicePixelRatio >= 1 ? window.devicePixelRatio : 1;\n\t\n\tthis.controls = undefined;\n\tthis.div = document.getElementById( 'container' );\n\tthis.scene = new THREE.Scene();\n\tthis.requestedFrame = undefined;\n\n\tthis.clock = new Clock();\n\tthis.coordinates = new Coordinates( this );\n\tthis.camera = new Camera( this, level.config );\n\tthis.scene.fog = new THREE.Fog( 0x222222, this.camera.object.position.z / 2, this.camera.object.position.z * 2 );\n\t\n\tthis.gun = new Gun( this );\n\tthis.ship = new Ship( this );\n\tthis.stars = new Stars( this, level.config.stars );\n\tthis.scoringAndWinning = new ScoringAndWinning( this, level.config.scoringAndWinning );\n\t\n\tthis.parseLevel( level );\n\t\n\tthis.dispatch({\n\t\ttype: 'levelParsed'\n\t});\n\t\n\tif(!renderer) {\n\t\tthis.addRenderer();\n\t}\n//\tthis.addStats();\n\tthis.addEventListeners();\n\t\n\tthis.loop();\n\t\n};\n\nmodule.exports = Poem;\n\nPoem.prototype = {\n\t\n\tparseLevel : function( level ) {\n\t\t_.each( level.objects, function( value, key ) {\n\t\t\tif(_.isObject( value )) {\n\t\t\t\tthis[ key ] = new value.object( this, value.properties );\n\t\t\t} else {\n\t\t\t\tthis[ key ] = value;\n\t\t\t}\n\t\t\t\n\t\t}, this);\n\t},\n\t\n\taddRenderer : function() {\n\t\trenderer = new THREE.WebGLRenderer({\n\t\t\talpha : true\n\t\t});\n\t\trenderer.setSize( window.innerWidth, window.innerHeight );\n\t\tthis.div.appendChild( renderer.domElement );\n\t},\n\t\n\taddStats : function() {\n\t\tthis.stats = new Stats();\n\t\tthis.stats.domElement.style.position = 'absolute';\n\t\tthis.stats.domElement.style.top = '0px';\n\t\t$(\"#container\").append( this.stats.domElement );\n\t},\n\t\t\n\taddEventListeners : function() {\n\t\t$(window).on('resize', this.resizeHandler.bind(this));\n\t},\n\t\n\tresizeHandler : function() {\n\t\t\n\t\tthis.camera.resize();\n\t\trenderer.setSize( window.innerWidth, window.innerHeight );\n\n\t},\n\t\t\t\n\tloop : function() {\n\n\t\tthis.requestedFrame = requestAnimationFrame( this.loop.bind(this) );\n\t\tthis.update();\n\n\t},\n\t\t\t\n\tupdate : function() {\n\t\t\n\t\t// this.stats.update();\n\t\t\n\t\tthis.dispatch({\n\t\t\ttype: \"update\",\n\t\t\tdt: this.clock.getDelta(),\n\t\t\ttime: this.clock.time\n\t\t});\n\t\t\n\t\trenderer.render( this.scene, this.camera.object );\n\n\t},\n\t\n\tdestroy : function() {\n\t\t\n\t\twindow.cancelAnimationFrame( this.requestedFrame );\n\t\t\n\t\tthis.dispatch({\n\t\t\ttype: \"destroy\"\n\t\t});\n\t}\n};\n\nEventDispatcher.prototype.apply( Poem.prototype );","var HID = require('./components/Hid');\nvar Damage = require('./components/Damage');\n\nvar Ship = function( poem ) {\n\t\n\tthis.poem = poem;\n\tthis.scene = poem.scene;\n\tthis.polarObj = new THREE.Object3D();\n\tthis.object = null;\n\tthis.hid = new HID( this.poem );\n\tthis.color = 0x4A9DE7;\n\tthis.linewidth = 2 * this.poem.ratio;\n\tthis.radius = 3;\n\t\n\tthis.position = new THREE.Vector2();\n\t\n\tthis.dead = false;\n\tthis.lives = 3;\n\tthis.invulnerable = true;\n\tthis.invulnerableLength = 3000;\n\tthis.invulnerableTime = 0 + this.invulnerableLength;\n\tthis.invulnerableflipFlop = false;\n\tthis.invulnerableflipFlopLength = 100;\n\tthis.invulnerableflipFlopTime = 0;\n\t\n\tthis.speed = 0;\n\t\n\tthis.edgeAvoidanceBankSpeed = 0.04;\n\tthis.edgeAvoidanceThrustSpeed = 0.001;\n\t\n\tthis.thrustSpeed = 0.001;\n\tthis.thrust = 0;\n\t\n\tthis.bankSpeed = 0.06;\n\tthis.bank = 0;\n\tthis.maxSpeed = 500;\n\n\tthis.addObject();\n\tthis.damage = new Damage(this.poem, this);\n\t\n\tthis.poem.on('update', this.update.bind(this) );\n\t\n};\n\nmodule.exports = Ship;\n\nShip.prototype = {\n\t\n\tcreateGeometry : function() {\n\t\t\n\t\tvar geometry, verts, manhattanLength, center;\n\t\t\n\t\tgeometry = new THREE.Geometry(),\n\t\t\n\t\tverts = [[50,36.9], [39.8,59.6], [47.1,53.9], [50,57.5], [53,53.9], [60.2,59.6], [50,36.9]];\n\n\t\tmanhattanLength = _.reduce( verts, function( memo, vert2d ) {\n\t\t\t\n\t\t\treturn [memo[0] + vert2d[0], memo[1] + vert2d[1]];\n\t\t\t\n\t\t}, [0,0]);\n\t\t\n\t\tcenter = [\n\t\t\tmanhattanLength[0] / verts.length,\n\t\t\tmanhattanLength[1] / verts.length\n\t\t];\n\t\t\n\t\tgeometry.vertices = _.map( verts, function( vec2 ) {\n\t\t\tvar scale = 1 / 4;\n\t\t\treturn new THREE.Vector3(\n\t\t\t\t(vec2[1] - center[1]) * scale * -1,\n\t\t\t\t(vec2[0] - center[0]) * scale,\n\t\t\t\t0\n\t\t\t);\n\t\t});\n\t\t\n\t\treturn geometry;\n\t\t\n\t},\n\t\n\taddObject : function() {\n\t\t\n\t\tvar geometry, lineMaterial;\n\t\t\n\t\tgeometry = this.createGeometry();\n\t\t\t\t\n\t\tlineMaterial = new THREE.LineBasicMaterial({\n\t\t\tcolor: this.color,\n\t\t\tlinewidth : this.linewidth\n\t\t});\n\t\t\n\t\tthis.object = new THREE.Line(\n\t\t\tgeometry,\n\t\t\tlineMaterial,\n\t\t\tTHREE.LineStrip\n\t\t);\n\t\tthis.object.position.z += this.poem.r;\n\t\t\n\t\tthis.polarObj.add( this.object );\n\t\tthis.reset();\n\t\tthis.scene.add( this.polarObj );\n\t},\n\t\n\tdisable : function() {\n\t\tthis.dead = true;\n\t\tthis.object.visible = false;\n\t},\n\t\n\tkill : function( force ) {\n\n\t\tif( !force && !this.dead && !this.invulnerable ) {\n\t\t\tthis.dead = true;\n\t\t\tthis.object.visible = false;\n\t\t\t\n\t\t\tthis.damage.explode();\n\t\t\t\n\t\t\tvar lostPoints = Math.ceil( this.poem.scoringAndWinning.score / -2 );\n\t\t\t\n\t\t\tthis.poem.scoringAndWinning.adjustScore(\n\t\t\t\tlostPoints,\n\t\t\t\tlostPoints + \" points\",\n\t\t\t\t{\n\t\t\t\t\t\"font-size\" : \"2em\",\n\t\t\t\t\t\"color\": \"red\"\n\t\t\t\t}\n\t\t\t);\n\t\t\n\t\t\tsetTimeout(function() {\n\t\t\n\t\t\t\tthis.dead = false;\n\t\t\t\tthis.invulnerable = true;\n\t\t\t\tthis.invulnerableTime = this.poem.clock.time + this.invulnerableLength;\n\t\t\t\tthis.object.visible = true;\n\t\t\t\tthis.reset();\n\t\t\n\t\t\t}.bind(this), 2000);\n\t\t}\n\t},\n\t\n\treset : function() {\n\t\tthis.position.x = 0;\n\t\tthis.position.y = 0;\n\t\tthis.speed = 0.2;\n\t\tthis.bank = 0;\n\t\t//this.object.rotation.z = Math.PI * 0.25;\t\t\n\t},\n\t\n\tupdate : function( e ) {\n\t\t\n\t\tif( this.dead ) {\n\t\t\t\n\t\t\t\n\t\t} else {\n\t\t\t\n\t\t\tthis.updateThrustAndBank( e );\n\t\t\tthis.updateEdgeAvoidance( e );\n\t\t\tthis.updatePosition( e );\n\t\t\tthis.updateFiring( e );\n\t\t\tthis.updateInvulnerability( e );\n\t\t\t\n\t\t}\n\t\tthis.damage.update( e );\n\t\tthis.hid.update( e );\n\n\t},\n\t\n\tupdateInvulnerability : function( e ) {\n\t\t\n\t\tif( this.invulnerable ) {\n\t\t\t\n\t\t\tif( e.time < this.invulnerableTime ) {\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif( e.time > this.invulnerableflipFlopTime ) {\n\n\t\t\t\t\tthis.invulnerableflipFlopTime = e.time + this.invulnerableflipFlopLength;\n\t\t\t\t\tthis.invulnerableflipFlop = !this.invulnerableflipFlop;\t\n\t\t\t\t\tthis.object.visible = this.invulnerableflipFlop;\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tthis.object.visible = true;\n\t\t\t\tthis.invulnerable = false;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t},\n\t\n\tupdateThrustAndBank : function( e ) {\n\t\t\n\t\tvar pressed, tilt, theta, thetaDiff;\n\t\t\n\t\tthis.bank *= 0.9;\n\t\tthis.thrust = 0;\n\t\t\n\t\tif( this.hid.type() === \"keys\" ) {\n\t\t\t\n\t\t\tpressed = this.hid.pressed;\n\t\t\n\t\t\tif( pressed.up ) {\n\t\t\t\tthis.thrust += this.thrustSpeed * e.dt;\n\t\t\t}\n\t\t\n\t\t\tif( pressed.down ) {\n\t\t\t\tthis.thrust -= this.thrustSpeed * e.dt;\t\n\t\t\t}\n\t\t\n\t\t\tif( pressed.left ) {\n\t\t\t\tthis.bank = this.bankSpeed;\n\t\t\t}\n\t\t\n\t\t\tif( pressed.right ) {\n\t\t\t\tthis.bank = this.bankSpeed * -1;\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\ttilt = this.hid.tilt;\n\t\t\t\n\t\t\tvar distance = Math.sqrt(tilt.x * tilt.x + tilt.y * tilt.y);\n\t\t\n\t\t\tthis.thrust = Math.min( 0.0011, distance / 10000 );\n\t\t\t\n\t\t\tthis.thrust *= e.dt;\n\t\t\t\n\t\t\ttheta = Math.atan2( tilt.y, tilt.x );\n\t\t\tthetaDiff = (theta - this.object.rotation.z) % (2 * Math.PI);\n\t\t\t\n\t\t\tif( thetaDiff > Math.PI ) {\n\t\t\t\tthetaDiff -= 2 * Math.PI;\n\t\t\t} else if ( thetaDiff < -Math.PI ) {\n\t\t\t\tthetaDiff += 2 * Math.PI;\n\t\t\t}\n\t\t\t\n\t\t\tthis.bank = thetaDiff * distance / 2500 * e.dt;\n\t\t\t\n\t\t\t\n\t\t}\n\t},\n\t\n\tupdateEdgeAvoidance : function( e ) {\n\t\t\n\t\tvar nearEdge, farEdge, position, normalizedEdgePosition, bankDirection, absPosition;\n\t\t\n\t\tfarEdge = this.poem.height / 2;\n\t\tnearEdge = 4 / 5 * farEdge;\n\t\tposition = this.object.position.y;\n\t\tabsPosition = Math.abs( position );\n\n\t\tvar rotation = this.object.rotation.z / Math.PI;\n\n\t\tthis.object.rotation.z %= 2 * Math.PI;\n\t\t\n\t\tif( this.object.rotation.z < 0 ) {\n\t\t\tthis.object.rotation.z += 2 * Math.PI;\n\t\t}\n\t\t\n\t\tif( Math.abs( position ) > nearEdge ) {\n\t\t\t\n\t\t\tvar isPointingLeft = this.object.rotation.z >= Math.PI * 0.5 && this.object.rotation.z < Math.PI * 1.5;\n\t\t\t\n\t\t\tif( position > 0 ) {\n\t\t\t\t\n\t\t\t\tif( isPointingLeft ) {\n\t\t\t\t\tbankDirection = 1;\n\t\t\t\t} else {\n\t\t\t\t\tbankDirection = -1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( isPointingLeft ) {\n\t\t\t\t\tbankDirection = -1;\n\t\t\t\t} else {\n\t\t\t\t\tbankDirection = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tnormalizedEdgePosition = (absPosition - nearEdge) / (farEdge - nearEdge);\n\t\t\tthis.thrust += normalizedEdgePosition * this.edgeAvoidanceThrustSpeed;\n\t\t\tthis.object.rotation.z += bankDirection * normalizedEdgePosition * this.edgeAvoidanceBankSpeed;\n\t\t\t\n\t\t}\n\t\t\n\t},\n\t\n\tupdateFiring : function( e ) {\n\t\tif( this.hid.pressed.spacebar ) {\n\t\t\tthis.poem.gun.fire( this.position.x, this.position.y, 2, this.object.rotation.z );\n\t\t}\n\t},\n\t\n\tupdatePosition : function() {\n\t\t\n\t\tvar movement = new THREE.Vector3();\n\t\t\n\t\treturn function( e ) {\n\t\t\n\t\t\tvar theta, x, y;\n\t\t\t\n\t\t\tthis.object.rotation.z += this.bank;\n\t\t\t\n\t\t\ttheta = this.object.rotation.z;\n\t\t\t\n\t\t\tthis.speed *= 0.98;\n\t\t\tthis.speed += this.thrust;\n\t\t\tthis.speed = Math.min( this.maxSpeed, this.speed );\n\t\t\tthis.speed = Math.max( 0, this.speed );\n\t\t\t\t\t\t\n\t\t\tthis.position.x += this.speed * Math.cos( theta );\n\t\t\tthis.position.y += this.speed * Math.sin( theta );\n\t\t\t\n\t\t\tthis.object.position.y = this.position.y;\n\t\t\t\n\t\t\t//Polar coordinates\n\t\t\tthis.polarObj.rotation.y = this.position.x * this.poem.circumferenceRatio;\n\t\t\t\n\t\t};\n\t\t\n\t}()\n\t\n\t\n};","var Camera = function( poem, properties ) {\n\t\n\tthis.poem = poem;\n\t\n\tthis.polarObj = new THREE.Object3D();\n\t\n\tthis.speed = 0.032;\n\t\n\tthis.object = new THREE.PerspectiveCamera(\n\t\t50,\t\t\t\t\t\t\t\t\t\t// fov\n\t\twindow.innerWidth / window.innerHeight,\t// aspect ratio\n\t\t3,\t\t\t\t\t\t\t\t\t\t// near frustum\n\t\t1000\t\t\t\t\t\t\t\t\t// far frustum\n\t);\n\t\n\tvar multiplier = properties.cameraMultiplier ? properties.cameraMultiplier : 1.5;\n\tthis.object.position.z = this.poem.r * multiplier;\n\t\n\tthis.polarObj.add( this.object );\n\tthis.poem.scene.add( this.polarObj );\n\t\n\tthis.poem.on('update', this.update.bind(this) );\n};\n\nmodule.exports = Camera;\n\nCamera.prototype = {\n\t\n\tresize : function() {\n\t\tthis.object.aspect = window.innerWidth / window.innerHeight;\n\t\tthis.object.updateProjectionMatrix();\n\t},\n\t\n\tupdate : function( e ) {\n\t\t\n\t\tvar thisTheta = this.polarObj.rotation.y;\n\t\tvar thatTheta = this.poem.ship.polarObj.rotation.y;\n\t\tvar thetaDiff = Math.abs(thisTheta - thatTheta);\n\t\t\n\t\t// if( thetaDiff > 0.2 ) {\n\t\t\n\t\t\tthis.polarObj.rotation.y =\n\t\t\t\tthatTheta * (this.speed) +\n\t\t\t\tthisTheta * (1 - this.speed);\n\t\t\t\t\n\t\t// }\n\t}\n};","var CameraIntro = function( poem, properties ) {\n\t\n\tthis.poem = poem;\n\t\n\tthis.poem.camera.object.position.y = this.poem.height * 5;\n\tthis.origin = properties.origin ? properties.origin : new THREE.Vector3();\n\tthis.speed = properties.speed ? properties.speed : 0.98;\n\t\n\tthis.boundUpdate = this.update.bind(this);\n\t\n\tthis.poem.on('update', this.boundUpdate );\n\t\n};\n\n\nCameraIntro.prototype = {\n\t\n\tupdate: function( e ) {\n\t\t\n\t\tthis.poem.camera.object.position.y *= this.speed;\n\t\tthis.poem.camera.object.lookAt( this.origin );\n\t\t\n\t\tif( this.poem.camera.object.position.y < 0.1 ) {\n\t\t\tthis.poem.off('update', this.boundUpdate );\n\t\t}\n\t\t\n\t}\n\t\n};\n\nmodule.exports = CameraIntro;","var two = Math.PI * 2;\nvar cos = Math.cos;\nvar sin = Math.sin;\nvar random = require('../utils/random.js');\n\n\nvar CylinderLines = function( poem, properties ) {\n\t\n\t// console.warn(\"remove title hiding hack\");\n\t// $('#title').hide();\n\t// $('.score').css('opacity', 1);\n\t\n\t\n\tthis.poem = poem;\n\t\n\tvar h = 0.5;\n\tvar l = 0.5;\n\tvar s = 0.5;\n\t\n\tvar geometry\t\t= new THREE.Geometry();\n\tvar height\t\t\t= poem.r * (_.isNumber( properties.heightPercentage ) ? properties.radiusPercentage : 0.8);\n\tvar radius\t\t\t= poem.r * (_.isNumber( properties.radiusPercentage ) ? properties.radiusPercentage : 0.8);\n\tvar sides\t\t\t= _.isNumber( properties.sides ) ? properties.sides : 15;\n\tvar eccentricity\t= _.isNumber( properties.eccentricity ) ? properties.eccentricity : 0.05;\n\tvar iterations\t\t= _.isNumber( properties.iterations ) ? properties.iterations : 10;\n\t\n\t_multipleCylinderWaveVertices(\n\t\titerations,\n\t\tgeometry.vertices,\n\t\tsides,\n\t\tradius,\n\t\tpoem.height,\n\t\teccentricity\n\t);\n\n\tvar material = new THREE.LineBasicMaterial({\n\t\tcolor: this.color,\n\t\tlinewidth : this.linewidth,\n\t\tfog: true\n\t});\n\n\tthis.object = new THREE.Line(\n\t\tgeometry,\n\t\tmaterial,\n\t\tTHREE.LinePieces\n\t);\n\t\n\tthis.poem.scene.add( this.object );\n\t\n\tthis.poem.on('update', function( e ) {\n\n\t\th = (h + 0.0002 * e.dt) % 1;\n\t\tmaterial.color.setHSL( h, s, l );\n\n\t}.bind(this));\n\t\n};\n\nfunction _multipleCylinderWaveVertices( iterations, vertices, sides, radius, height, eccentricity ) {\n\t\n\tvar ratio1, ratio2;\n\t\n\tfor( var i=0; i < iterations; i++ ) {\n\t\t\n\t\tratio1 = i / iterations;\n\t\tratio2 = 1 - ratio1;\n\t\t\n\t\t_cylinderWaveVertices(\n\t\t\tvertices,\n\t\t\tMath.floor( (sides - 3) * ratio2 ) + 3,\n\t\t\tradius * ratio2,\n\t\t\theight * ratio2 * ratio2,\n\t\t\teccentricity\n\t\t);\n\t\t\n\t}\n}\n\nfunction _cylinderWaveVertices( vertices, sides, radius, height, eccentricity ) {\n\n\tvar x1,z1,x2,z2,h1,h2,xPrime,zPrime,hPrime;\n\tvar ecc1 = 1 - eccentricity;\n\tvar ecc2 = 1 + eccentricity;\n\tvar radiansPerSide = two / sides;\n\tvar waves = 3;\n\tvar waveHeight;\n\n\tfor( var i=0; i <= sides; i++ ) {\n\n\t\twaveHeight = height * Math.sin( radiansPerSide * i * waves ) * 0.4;\n\n\t\tx1 = cos( radiansPerSide * i ) * radius * random.range( ecc1, ecc2 );\n\t\tz1 = sin( radiansPerSide * i ) * radius * random.range( ecc1, ecc2 );\n\t\th1 = height\t\t\t\t\t\t\t\t* random.range( ecc1, ecc2 ) + waveHeight;\n\t\t\n\t\tif( i > 0 ) {\n\t\t\t\n\t\t\tif( i === sides ) {\n\t\t\t\tx1 = xPrime;\n\t\t\t\tz1 = zPrime;\n\t\t\t\th1 = hPrime;\n\t\t\t}\n\n\t\t\t//Vertical line\n\t\t\tvertices.push( new THREE.Vector3( x1, h1 *  0.5, z1 ) );\n\t\t\tvertices.push( new THREE.Vector3( x1, h1 * -0.5, z1 ) );\n\n\t\t\t//Top horiz line\n\t\t\tvertices.push( new THREE.Vector3( x1, h1 * 0.5, z1 ) );\n\t\t\tvertices.push( new THREE.Vector3( x2, h2 * 0.5, z2 ) );\n\n\t\t\t//Bottom horiz line\n\t\t\tvertices.push( new THREE.Vector3( x1, h1 * -0.5, z1 ) );\n\t\t\tvertices.push( new THREE.Vector3( x2, h2 * -0.5, z2 ) );\n\t\t\t\n\t\t} else {\n\t\t\t\n\t\t\txPrime = x1;\n\t\t\tzPrime = z1;\n\t\t\thPrime = h1;\n\t\t\t\n\t\t}\n\n\t\tx2 = x1;\n\t\tz2 = z1;\n\t\th2 = h1;\n\n\t}\n\t\n\treturn geometry;\n\n};\n\nmodule.exports = CylinderLines;","var _ = require('underscore');\nvar random = require('../utils/random.js');\nvar Bullet = require('../entities/Bullet');\nvar SoundGenerator = require('../sound/SoundGenerator');\n\nvar Damage = function( poem, ship, settings ) {\n\t\n\tthis.poem = poem;\n\tthis.ship = ship;\n\tthis.perExplosion = 100;\n\tthis.retainExplosionsCount = 3;\n\tthis.bullets = [];\n\tthis.explodeSpeed = 3;\n\tthis.transparent = false;\n\tthis.opacity = 1;\n\t\n\tthis.explosionCount = 0;\n\tthis.explosionSound = null;\n\t\n\tif( _.isObject( settings ) ) {\n\t\t_.extend( this, settings );\n\t}\n\t\n\tthis.count = this.perExplosion * this.retainExplosionsCount;\n\t\n\tthis.addObject();\n\tthis.addSound();\n};\n\t\nDamage.prototype = {\n\t\n\tgenerateGeometry : function() {\n\t\t\n\t\tvar vertex, bullet;\n\t\t\n\t\tgeometry = new THREE.Geometry();\n\t\t\n\t\tfor(var i=0; i < this.count; i++) {\n\t\t\t\n\t\t\tvertex = new THREE.Vector3();\n\t\t\tbullet = new Bullet( this.poem, this, vertex );\n\t\t\t\n\t\t\tgeometry.vertices.push( vertex );\n\t\t\tthis.bullets.push( bullet );\n\t\t\t\n\t\t\tbullet.kill();\n\t\t\tbullet.position.y = 1000;\n\t\t\t\t\t\n\t\t}\n\t\t\n\t\treturn geometry;\n\t},\n\t\n\taddObject : function() {\n\t\t\n\t\tvar geometry, lineMaterial;\n\t\t\n\t\tgeometry = this.generateGeometry();\n\t\t\n\t\tthis.object = new THREE.PointCloud(\n\t\t\tgeometry,\n\t\t\tnew THREE.PointCloudMaterial({\n\t\t\t\t size: 1 * this.poem.ratio,\n\t\t\t\t color: this.ship.color,\n\t\t\t\t transparent: this.transparent,\n\t\t\t\t opacity: this.opacity\n\t\t\t}\n\t\t));\n\t\tthis.object.frustumCulled = false;\n\t\tthis.poem.scene.add( this.object ) ;\n\t\t\n\t},\n\t\n\taddSound : function() {\n\t\t\n\t\tvar sound = this.explosionSound = new SoundGenerator();\n\t\t\n\t\tsound.connectNodes([\n\t\t\tsound.makeOscillator( \"sawtooth\" ),\n\t\t\tsound.makeGain(),\n\t\t\tsound.getDestination()\n\t\t]);\n\t\t\n\t\tsound.setGain(0,0,0);\n\t\tsound.start();\n\t\t\n\t},\n\t\n\treset : function() {\n\t\t\n\t\t_.each( this.bullets, function( bullet ) {\n\t\t\tbullet.kill();\n\t\t});\n\t\t\n\t},\n\t\n\texplode : function() {\n\t\t\n\t\tthis.playExplosionSound();\n\t\t\n\t\t_.each( _.sample( this.bullets, this.perExplosion ), function( bullet) {\n\n\t\t\tvar theta = random.range(0, 2 * Math.PI);\n\t\t\tvar r = random.rangeLow( 0, this.explodeSpeed );\n\t\t\t\n\t\t\tbullet.alive = true;\n\t\t\tbullet.position.copy( this.ship.position );\n\t\t\t\n\t\t\tbullet.speed.x = r * Math.cos( theta );\n\t\t\tbullet.speed.y = r * Math.sin( theta );\n\t\t\t\t\t\t\n\t\t}.bind(this));\n\t\t\n\t},\n\t\n\tplayExplosionSound : function() {\n\t\t\n\t\tvar freq = 500;\n\t\tvar sound = this.explosionSound;\n\n\t\t//Start sound\n\t\tsound.setGain(0.5, 0, 0.001);\n\t\tsound.setFrequency(freq, 0, 0);\n\t\t\n\t\tvar step = 0.02;\n\t\tvar times = 6;\n\t\tvar i=1;\n\t\t\n\t\tfor(i=1; i < times; i++) {\n\t\t\tsound.setFrequency(freq * Math.random(), step * i, step);\n\t\t}\n\n\t\t//End sound\n\t\tsound.setGain(0, step * times, 0.2);\n\t\tsound.setFrequency(freq * 0.21, step * times, 0.05);\n\t},\n\t\n\tupdate : function( e )  {\n\t\t\n\t\t_.each( this.bullets, function( bullet ) {\n\t\t\tbullet.update( e );\n\t\t\tbullet.speed.multiplyScalar(0.999);\n\t\t});\n\t\t\n\t\tthis.object.geometry.verticesNeedUpdate = true;\n\t\t\n\t},\n\t\n};\n\nmodule.exports = Damage;","module.exports=require(\"/Users/gregtatum/Dropbox/greg-sites/polar/js/Components/Hid.js\")","/*\n\tSet the win conditions in the level manifest as below\n\n\t\tproperties: {\n\t\t\tconditions: [\n\t\t\t\t{\n\t\t\t\t\tcomponent: \"jellyManager\",\n\t\t\t\t\tproperties: null\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\n\tPsuedo-code gets called:\n\n\t\tjellyManager.watchForCompletion( winCheck, properties );\n\n\tThen in the jellyManager component, call the following when condition is completed:\n\n\t\tscoringAndWinning.reportConditionCompleted();\n\n*/\n\nvar ScoringAndWinning = function( poem, properties ) {\n\t\n\tproperties = _.isObject( properties ) ? properties : {};\n\t\n\tthis.poem = poem;\n\tthis.$score = $('#score');\n\tthis.$enemiesCount = $('#enemies-count');\n\tthis.$win = $('.win');\n\tthis.$winScore = $('#win-score');\n\tthis.$winText = this.$win.find('h1:first');\n\tthis.$scoreMessage = $('#score-message');\n\tthis.$nextLevel = $('#next-level');\n\tthis.score = 0;\n\tthis.enemiesCount = 0;\n\tthis.scoreMessageId = 0;\n\tthis.message = _.isString( properties.message ) ? properties.message : \"You Win\";\n\tthis.nextLevel = properties.nextLevel ? properties.nextLevel : null;\n\tthis.won = false;\n\t\n\tthis.conditionsCount = _.isArray( properties.conditions ) ? properties.conditions.length : 0;\n\tthis.conditionsRemaining = this.conditionsCount;\n\t\n\tthis.poem.on('levelParsed', function() {\n\t\tthis.setConditions( properties.conditions )\n\t}.bind(this));\n\t\n\t\n};\n\nmodule.exports = ScoringAndWinning;\n\nScoringAndWinning.prototype = {\n\t\n\tsetConditions : function( conditions ) {\n\t\t\n\t\t// Start watching for completion for all components\n\t\t\n\t\t_.each( conditions, function( condition ) {\n\t\t\n\t\t\tvar component = this.poem[condition.component];\n\t\t\tvar arguments = _.union( this, condition.properties );\n\t\t\n\t\t\tcomponent.watchForCompletion.apply( component, arguments );\n\t\t\n\t\t}.bind(this));\n\t\t\n\t},\n\t\n\treportConditionCompleted : function() {\n\t\t\n\t\tthis.conditionsRemaining--;\n\t\t\n\t\tif( this.conditionsRemaining === 0 ) {\n\t\t\t\n\t\t\tthis.poem.ship.disable();\n\t\t\tthis.won = true;\n\t\t\tthis.showWinScreen();\n\t\t\t\n\t\t}\n\t\t\n\t},\n\t\n\tadjustEnemies : function( count ) {\n\t\t\n\t\t// if(this.won) return;\n\t\t\n\t\tthis.enemiesCount += count;\n\t\tthis.$enemiesCount.text( this.enemiesCount );\n\t\t\n\t\treturn this.enemiesCount;\n\t},\n\t\n\tadjustScore : function( count, message, style ) {\n\t\t\n\t\tif(this.won) return;\n\t\t\n\t\tthis.score += count;\n\t\tthis.$score.text( this.score );\n\t\t\n\t\tif( message ) {\n\t\t\tthis.showMessage( message, style );\n\t\t}\n\t\t\n\t\treturn this.score;\n\t},\n\t\n\tshowMessage : function( message, style ) {\n\t\t\n\t\tvar $span = $('<span></span>').text( message );\n\t\t\n\t\tif( style ) $span.css( style );\n\t\t\n\t\tthis.$scoreMessage.hide();\n\t\tthis.$scoreMessage.empty().append( $span );\n\t\tthis.$scoreMessage.removeClass('fadeout');\n\t\tthis.$scoreMessage.addClass('fadein');\n\t\tthis.$scoreMessage.show();\n\t\tthis.$scoreMessage.removeClass('fadein');\n\t\t\n\t\tvar id = ++this.scoreMessageId;\n\t\t\n\t\tsetTimeout(function() {\n\t\t\t\n\t\t\tif( id === this.scoreMessageId ) {\n\t\t\t\tthis.$scoreMessage.addClass('fadeout');\n\t\t\t}\n\t\t\t\n\t\t}.bind(this), 2000);\n\t\t\n\t},\n\t\n\tshowWinScreen : function() {\n\t\t\t\t\n\t\tthis.$winScore.text( this.score );\n\t\tthis.$win.show();\n\t\tthis.$win.css({\n\t\t\topacity: 1\n\t\t});\n\t\tthis.$winText.html( this.message );\n\t\tthis.$nextLevel.one( 'click', function() {\n\t\t\t\n\t\t\tLevelLoader( this.nextLevel );\n\t\t\tthis.$win.hide();\n\t\t\t\n\t\t}.bind(this));\n\t}\n\t\n};","var Stars = function( poem, properties ) {\n\t\n\tproperties = _.isObject( properties ) ? properties : {};\n\t\n\tthis.poem = poem;\n\tthis.object = null;\n\t\n\tthis.count = _.isNumber( properties.count ) ? properties.count : 40000;\n\tthis.depth = 7.5;\n\tthis.color = 0xaaaaaa;\n\t\n\tthis.addObject();\n};\n\nmodule.exports = Stars;\n\nStars.prototype = {\n\t\n\tgenerateGeometry : function() {\n\t\tvar r, theta, x, y, z, geometry;\n\t\t\n\t\tgeometry = new THREE.Geometry();\n\t\t\n\t\tfor(var i=0; i < this.count; i++) {\n\t\t\t\n\t\t\tr = Math.random() * this.depth * this.poem.r;\n\t\t\tif( r < this.poem.r ) {\n\t\t\t\tr = Math.random() * this.depth * this.poem.r;\n\t\t\t}\n\t\t\ttheta = Math.random() * 2 * Math.PI;\n\t\t\t\n\t\t\tx = Math.cos( theta ) * r;\n\t\t\tz = Math.sin( theta ) * r;\n\t\t\ty = (0.5 - Math.random()) * this.depth * this.poem.r;\n\t\t\t\n\t\t\tgeometry.vertices.push( new THREE.Vector3(x,y,z) );\n\t\t\t\t\t\n\t\t}\n\t\t\n\t\treturn geometry;\n\t},\n\t\n\taddObject : function() {\n\t\t\n\t\tvar geometry, lineMaterial;\n\t\t\n\t\tgeometry = this.generateGeometry();\n\t\t\n\t\t\n\t\tthis.object = new THREE.PointCloud(\n\t\t\tgeometry,\n\t\t\tnew THREE.PointCloudMaterial({\n\t\t\t\t size: 0.5 * this.poem.ratio,\n\t\t\t\t color: this.color,\n\t\t\t\t fog: false\n\t\t\t}\n\t\t) );\n\t\t\n\t\tthis.poem.scene.add( this.object ) ;\n\t\t\n\t}\n};","var HID = require('../Components/Hid');\n\nvar Titles = function( poem, properties ) {\n\tthis.poem = poem;\n\t\n\tthis.poem.ship.disable();\n\tthis.rotateStars();\n\t\n\t$('a[href=#keys]').click(this.handleKeysClick.bind(this));\n\t$('a[href=#tilt]').click(this.handleTiltClick.bind(this));\n\t\n\t$('#title').removeClass('hide').show();\n\t$('.score').css('opacity', 0);\n\t\n\t\n\tthis.webglCheck();\n};\n\nmodule.exports = Titles;\n\nTitles.prototype = {\n\t\n\twebglEnabled : ( function () { try { var canvas = document.createElement( 'canvas' ); return !! window.WebGLRenderingContext && ( canvas.getContext( 'webgl' ) || canvas.getContext( 'experimental-webgl' ) ); } catch( e ) { return false; } } )(),\n\t\n\twebglCheck : function() {\n\t\t\n\t\tif( !this.webglEnabled ) {\n\t\t\t$('a[href=#keys]').hide();\n\t\t\t$('a[href=#tilt]').hide();\n\t\t\t$('.title-webgl-error').show();\n\t\t}\n\t\t\n\t},\n\t\n\thandleKeysClick : function(e) {\n\t\te.preventDefault();\n\t\tHID.prototype.setKeys();\n\t\tthis.nextLevel();\n\t},\n\t\n\thandleTiltClick : function(e) {\n\t\te.preventDefault();\n\t\tHID.prototype.setTilt();\n\t\tthis.nextLevel();\n\t},\n\t\n\tnextLevel : function() {\n\t\t$('#title').addClass('hide');\n\t\t$('.score').css('opacity', 1);\n\n\t\tLevelLoader(\"intro\");\n\t\t\n\t\tsetTimeout(function() {\n\t\t\t\n\t\t\t$('#title').hide();\n\t\t\t\n\t\t}.bind(this), 1000);\n\t},\n\t\n\trotateStars : function() {\n\t\t\n\t\tthis.poem.on('update', function(e) {\n\t\t\t\n\t\t\tthis.poem.stars.object.rotation.y -= 0.0001 * e.dt;\n\t\t\n\t\t}.bind(this) );\n\t\t\n\t}\n\t\n};","var _ = require('underscore');\n\nvar Asteroid = function( poem, x, y, radius ) {\n\t\n\tthis.poem = poem;\n\tthis.object = null;\n\t\n\tthis.position = new THREE.Vector2();\n\tthis.position.x = x || 0;\n\tthis.position.y = y || 0;\n\tthis.oscillation = 0;\n\tthis.radius = radius || 5;\n\tthis.speed = new THREE.Vector2();\n\tthis.rotationSpeed = new THREE.Vector3();\n\tthis.maxSpeed = 0.5;\n\tthis.maxRotationSpeed = 0.1;\n\tthis.oscillationSpeed = 50;\n\tthis.strokeColor = 0xdddddd;\n\tthis.fillColor = 0xffffff;\n\tthis.addObject(x, y);\n\tthis.update();\n\t\n};\n\nmodule.exports = Asteroid;\n\nAsteroid.prototype = {\n\n\taddObject : function() {\n\t\t\n\t\tvar geometry = new THREE.OctahedronGeometry(this.radius, 1);\n\t\t\n\t\t//Disform\n\t\t_.each(geometry.vertices, function( vertex ) {\n\t\t\tvertex.x += (this.radius / 2) * (Math.random() - 0.5);\n\t\t\tvertex.y += (this.radius / 2) * (Math.random() - 0.5);\n\t\t\tvertex.z += (this.radius / 2) * (Math.random() - 0.5);\n\t\t}, this);\n\t\t\n\t\tvar material = new THREE.MeshBasicMaterial({color:this.strokeColor});\n\t\tthis.object = new THREE.Mesh( geometry, material );\n\t\t\n\t\tvar outlineMat = new THREE.MeshBasicMaterial({color:this.fillColor, side: THREE.BackSide});\n\t\tvar outlineObj = new THREE.Mesh( geometry, outlineMat );\n\t\toutlineObj.scale.multiplyScalar( 1.05);\n\t\t\n\t\tthis.object.add( outlineObj );\n\t\t\n\t\tthis.poem.scene.add( this.object );\n\t\t\n\t\tthis.speed.x = (0.5 - Math.random()) * this.maxSpeed;\n\t\tthis.speed.y = (0.5 - Math.random()) * this.maxSpeed;\n\t\t\n\t\tthis.rotationSpeed.x = (0.5 - Math.random()) * this.maxRotationSpeed;\n\t\tthis.rotationSpeed.y = (0.5 - Math.random()) * this.maxRotationSpeed;\n\t\tthis.rotationSpeed.z = (0.5 - Math.random()) * this.maxRotationSpeed;\n\t\t\n\t\tthis.oscillation = Math.random() * Math.PI * 2 * this.oscillationSpeed;\n\t},\n\t\n\tupdate : function( e ) {\n\t\t\n\t\tthis.oscillation += this.speed.y;\n\t\tthis.position.x += this.speed.x;\n\t\tthis.position.y = Math.sin( this.oscillation / this.oscillationSpeed ) * this.poem.height;\n\t\t\n\t\tthis.object.rotation.x += this.rotationSpeed.x;\t\n\t\tthis.object.rotation.y += this.rotationSpeed.y;\t\n\t\tthis.object.rotation.z += this.rotationSpeed.z;\t\n\t\t\n\t\tthis.poem.coordinates.setVector( this.object.position, this.position );\n\t}\n\t\n};","var Bullet = function( poem, gun, vertex ) {\n\tthis.poem = poem;\n\tthis.gun = gun;\n\tthis.vertex = vertex;\n\t\n\tthis.speed = new THREE.Vector2(0,0);\n\tthis.position = new THREE.Vector2(0,0);\n\tthis.radius = 1;\n\t\n\tthis.bornAt = 0;\n\tthis.alive = false;\n};\n\nmodule.exports = Bullet;\n\nBullet.prototype = {\n\t\n\tkill : function() {\n\t\tthis.vertex.set(0, 0 ,1000);\n\t\tthis.alive = false;\n\t},\n\t\n\tupdate : function( e ) {\n\t\tvar x,y,z;\n\t\t\n\t\tthis.position.x += this.speed.x;\n\t\tthis.position.y += this.speed.y;\n\t\t\n\t\tthis.poem.coordinates.setVector( this.vertex, this.position );\n\t\t\n\t},\n\t\n\tfire : function(x, y, speed, theta) {\n\t\t\t\t\n\t\tthis.poem.coordinates.setVector( this.vertex, x, y );\n\t\t\n\t\tthis.position.set(x,y);\n\t\t\n\t\tthis.speed.x = Math.cos( theta ) * speed;\n\t\tthis.speed.y = Math.sin( theta ) * speed;\n\t\t\n\t\tthis.bornAt = this.poem.clock.time;\n\t\tthis.alive = true;\n\t}\n};","var Damage = require('../components/Damage');\nvar random = require('../utils/random');\n\nvar Jellyship = function( poem, manager, x, y ) {\n\n\tthis.poem = poem;\n\tthis.manager = manager;\n\tthis.scene = poem.scene;\n\tthis.polarObj = new THREE.Object3D();\n\tthis.object = null;\n\n\tthis.name = \"Jellyship\";\n\tthis.color = 0xcb36ea;\n\tthis.cssColor = \"#CB36EA\";\n\tthis.linewidth = 2 * this.poem.ratio;\n\tthis.scoreValue = 13;\n\n\tthis.spawnPoint = new THREE.Vector2(x,y);\n\tthis.position = new THREE.Vector2(x,y);\n\t\n\tthis.dead = false;\n\n\tthis.speed = 0;\n\n\tthis.edgeAvoidanceBankSpeed = 0.04;\n\tthis.edgeAvoidanceThrustSpeed = 0.001;\n\n\tthis.thrustSpeed = 1;\n\tthis.thrust = 0;\n\n\tthis.bankSpeed = 0.06;\n\tthis.bank = 0;\n\tthis.maxSpeed = 1000;\n\t\n\tthis.radius = 3;\n\n\tthis.addObject();\n\tthis.damage = new Damage(this.poem, this, {\n\t\ttransparent: true,\n\t\topacity: 0.5,\n\t\tretainExplosionsCount: 3,\n\t\tperExplosion: 50\n\t});\n\t\n\tthis.handleUpdate = this.update.bind(this);\n\tthis.manager.on('update', this.handleUpdate );\n\t\n};\n\nmodule.exports = Jellyship;\n\nJellyship.prototype = {\n\t\n\tinitSharedAssets : function( manager ) {\n\t\t\n\t\tvar geometry = this.createGeometry();\n\t\t\n\t\tmanager.shared.geometry = geometry;\n\t\t\n\t\tmanager.on('update', Jellyship.prototype.updateWaveyVerts( geometry ) );\n\t},\n\t\n\tupdateWaveyVerts : function( geometry ) {\n\n\t\treturn function( e ) {\n\t\t\t\n\t\t\t_.each( geometry.waveyVerts, function( vec ) {\n\t\t\t\tvec.y = 0.8 * Math.sin( e.time / 100 + vec.x ) + vec.original.y;\n\t\t\t});\n\t\t\t\n\t\t};\n\t},\n\n\tcreateGeometry : function() {\n\n\t\tvar geometry, verts, manhattanLength, center;\n\t\n\t\tgeometry = new THREE.Geometry(),\n\t\n\t\t//verts = [[355.7,211.7], [375.8,195.9], [368.5,155.4], [361.4,190.8], [341.3,205.9], [320.4,201.8], [298.9,206], [278.6,190.8], [271.5,155.4], [264.2,195.9], [284.7,212], [258.3,239.2], [242.3,228.5], [238.3,168.9], [226.1,237.1], [246.7,266.2], [233.7,316.4], [259.2,321.2], [237.4,429.6], [253.1,432.7], [274.9,324.2], [293,327.6], [286.6,484], [302.6,484.6], [308.9,330.6], [320.4,332.8], [331.1,330.8], [337.4,484.6], [353.4,484], [347,327.8], [365.1,324.3], [386.9,432.7], [402.6,429.6], [380.9,321.4], [407,316.4], [393.8,265.5], [413.9,237.1], [401.7,168.9], [397.7,228.5], [382.1,238.9], [355.9,211.8] ];\n\t\t\n\t\tverts = [ [355.7,211.7], [375.8,195.9], [368.5,155.4], [361.4,190.8], [341.3,205.9], [320.4,201.8], [298.9,206], [278.6,190.8], \n\t\t\t[271.5,155.4], [264.2,195.9], [284.7,212], [258.3,239.2], [242.3,228.5], [238.3,168.9], [226.1,237.1], [246.7,266.2], [233.7,316.4], [259.2,321.2], \n\t\t\t[257.1,331.3], [254.9,342.3], [252.8,352.9], [250.5,364.5], [248.2,375.7], [246.1,386.2], [243.8,397.7], [241.3,410.3], [239.5,419.3], [237.4,429.6], \n\t\t\t[253.1,432.7], [254.9,423.7], [256.9,414.1], [259.3,401.8], [261.6,390.2], [263.7,380.1], [266.1,367.8], [268.3,356.9], [270.6,345.6], [272.7,335.1], \n\t\t\t[274.9,324.2], [293,327.6], [292.6,336.5], [292.2,348], [291.7,359.6], [291.2,371.5], [290.7,382.5], [290.3,393.6], [289.8,405.1], [289.5,414.1], [289,425.6], \n\t\t\t[288.5,437], [288.1,448.5], [287.6,459.5], [287.1,471.5], [286.6,484], [302.6,484.6], [303.1,473.5], [303.6,461.5], [304.1,448.5], [304.5,438.5], [305,425.1], \n\t\t\t[305.4,416.1], [305.9,405], [306.2,395.5], [306.6,386], [307.1,373], [307.6,361], [308.2,347.5], [308.5,338.5], [308.9,330.6], [331.1,330.8], [331.4,336.5], \n\t\t\t[331.7,344], [332,353], [332.5,364.5], [333,376], [333.4,387.5], [333.9,398.5], [334.4,410.5], [334.9,422.4], [335.4,437], [336,450], [336.4,460], [336.8,471], \n\t\t\t[337.4,484.6], [353.4,484], [352.8,471], [352.3,457.5], [351.9,448], [351.5,437.5], [350.9,423], [350.4,410.5], [349.8,396.5], [349.4,385.5], [348.9,374.4], \n\t\t\t[348.5,363.4], [348,352], [347.6,343], [347.3,334], [347,327.8], [365.1,324.3], [366.6,331.7], [368.2,339.6], [370.2,349.5], [371.9,357.8], [373.6,366.8], \n\t\t\t[375.4,375.4], [377.1,384], [379,393.5], [381.2,404.6], [383.1,414], [384.9,422.8], [386.9,432.7], [402.6,429.6], [400.6,419.6], [399.1,412.5], [397.1,402.5], \n\t\t\t[394.7,390.2], [393.1,382.6], [391.4,374], [389.6,365], [387.6,355.1], [386,347.2], [384.1,337.7], [382.7,330.6], [380.9,321.4], [407,316.4], [393.8,265.5], \n\t\t\t[413.9,237.1], [401.7,168.9], [397.7,228.5], [382.1,238.9], [355.9,211.8] ];\n\t\t\n\n\t\tmanhattanLength = _.reduce( verts, function( memo, vert2d ) {\n\t\t\n\t\t\treturn [memo[0] + vert2d[0], memo[1] + vert2d[1]];\n\t\t\n\t\t}, [0,0]);\n\t\n\t\tcenter = [\n\t\t\tmanhattanLength[0] / verts.length,\n\t\t\tmanhattanLength[1] / verts.length\n\t\t];\n\t\t\n\t\tgeometry.waveyVerts = [];\n\t\n\t\tgeometry.vertices = _.map( verts, function( vec2 ) {\n\t\t\t\n\t\t\tvar scale = 1 / 32;\n\t\t\tvar vec3 = new THREE.Vector3(\n\t\t\t\t(vec2[1] - center[1]) * scale * -1,\n\t\t\t\t(vec2[0] - center[0]) * scale,\n\t\t\t\t0\n\t\t\t);\n\t\t\t\n\t\t\tvec3.original = new THREE.Vector3().copy( vec3 );\n\t\t\t\n\t\t\tif( vec2[1] > 330.8 ) {\n\t\t\t\tgeometry.waveyVerts.push( vec3 )\n\t\t\t}\n\t\t\t\n\t\t\treturn vec3;\n\t\t\t\n\t\t}, this);\n\t\n\t\treturn geometry;\n\t\n\t},\n\n\taddObject : function() {\n\t\n\t\tvar geometry, lineMaterial;\n\t\n\t\tgeometry = this.manager.shared.geometry;\n\t\t\t\n\t\tlineMaterial = new THREE.LineBasicMaterial({\n\t\t\tcolor: this.color,\n\t\t\tlinewidth : this.linewidth\n\t\t});\n\t\n\t\tthis.object = new THREE.Line(\n\t\t\tgeometry,\n\t\t\tlineMaterial,\n\t\t\tTHREE.LineStrip\n\t\t);\n\t\tthis.object.position.z += this.poem.r;\n\t\n\t\tthis.polarObj.add( this.object );\n\t\tthis.reset();\n\t\tthis.scene.add( this.polarObj );\n\t},\n\n\tkill : function() {\n\t\tthis.dead = true;\n\t\tthis.object.visible = false;\n\t\tthis.damage.explode();\n\t},\n\n\treset : function() {\n\t\tthis.position.copy( this.spawnPoint );\n\t\tthis.speed = 0.2;\n\t\tthis.bank = 0;\n\t\t//this.object.rotation.z = Math.PI * 0.25;\t\t\n\t},\n\n\tupdate : function( e ) {\n\t\t\n\t\tif( this.dead ) {\n\t\t\n\t\t\tthis.damage.update( e );\n\t\t\t\n\t\t} else {\n\t\t\t\n\t\t\tthis.bank *= 0.9;\n\t\t\tthis.thrust = 0.01;\n\t\t\tthis.bank += random.range(-0.01, 0.01);\n\t\t\n\t\t\tthis.object.geometry.verticesNeedUpdate = true;\n\t\t\n\t\t\tthis.updateEdgeAvoidance( e );\n\t\t\tthis.updatePosition( e );\n\t\t\n\t\t}\n\n\t},\n\n\tupdateEdgeAvoidance : function( e ) {\n\t\n\t\tvar nearEdge, farEdge, position, normalizedEdgePosition, bankDirection, absPosition;\n\t\n\t\tfarEdge = this.poem.height / 2;\n\t\tnearEdge = 4 / 5 * farEdge;\n\t\tposition = this.object.position.y;\n\t\tabsPosition = Math.abs( position );\n\n\t\tvar rotation = this.object.rotation.z / Math.PI;\n\n\t\tthis.object.rotation.z %= 2 * Math.PI;\n\t\n\t\tif( this.object.rotation.z < 0 ) {\n\t\t\tthis.object.rotation.z += 2 * Math.PI;\n\t\t}\n\t\n\t\tif( Math.abs( position ) > nearEdge ) {\n\t\t\n\t\t\tvar isPointingLeft = this.object.rotation.z >= Math.PI * 0.5 && this.object.rotation.z < Math.PI * 1.5;\n\t\t\n\t\t\tif( position > 0 ) {\n\t\t\t\n\t\t\t\tif( isPointingLeft ) {\n\t\t\t\t\tbankDirection = 1;\n\t\t\t\t} else {\n\t\t\t\t\tbankDirection = -1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( isPointingLeft ) {\n\t\t\t\t\tbankDirection = -1;\n\t\t\t\t} else {\n\t\t\t\t\tbankDirection = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tnormalizedEdgePosition = (absPosition - nearEdge) / (farEdge - nearEdge);\n\t\t\tthis.thrust += normalizedEdgePosition * this.edgeAvoidanceThrustSpeed;\n\t\t\tthis.object.rotation.z += bankDirection * normalizedEdgePosition * this.edgeAvoidanceBankSpeed;\n\t\t\n\t\t}\n\t\n\t\tthis.object.rotation.z;\n\t\n\t\n\t},\n\n\tupdatePosition : function( e ) {\n\t\n\t\tvar movement = new THREE.Vector3();\n\t\n\t\treturn function() {\n\t\n\t\t\tvar theta, x, y;\n\t\t\n\t\t\tthis.object.rotation.z += this.bank;\n\t\t\n\t\t\ttheta = this.object.rotation.z;\n\t\t\n\t\t\tthis.speed *= 0.98;\n\t\t\tthis.speed += this.thrust;\n\t\t\tthis.speed = Math.min( this.maxSpeed, this.speed );\n\t\t\tthis.speed = Math.max( 0, this.speed );\n\t\t\t\t\t\n\t\t\tthis.position.x += this.speed * Math.cos( theta );\n\t\t\tthis.position.y += this.speed * Math.sin( theta );\n\t\t\n\t\t\tthis.object.position.y = this.position.y;\n\t\t\n\t\t\t//Polar coordinates\n\t\t\t// this.object.position.x = Math.cos( this.position.x * this.poem.circumferenceRatio ) * this.poem.r;\n\t\t\t// this.object.position.z = Math.sin( this.position.x * this.poem.circumferenceRatio ) * this.poem.r;\n\t\t\tthis.polarObj.rotation.y = this.position.x * this.poem.circumferenceRatio;\n\t\t\n\t\t};\n\t\n\t}()\t\n\n\n};","module.exports=require(\"/Users/gregtatum/Dropbox/greg-sites/polar/js/entities/JellyShip.js\")","module.exports = {\n\tconfig : {\n\t\tscoringAndWinning: {\n\t\t\tmessage: \"No jellies detected within 5 parsecs.<br/> Follow me on <a href='https://twitter.com/tatumcreative'>Twitter</a> for updates on new levels.\",\n\t\t\tnextLevel: \"titles\",\n\t\t\tconditions: [\n\t\t\t\t{\n\t\t\t\t\t//Jelly manager has 0 live ships\n\t\t\t\t\tcomponent: \"jellyManager\",\n\t\t\t\t\tproperties: null\n\t\t\t\t}\t\t\n\t\t\t]\n\t\t}\n\t},\n\tobjects : {\n\t\tasteroidField : {\n\t\t\tobject: require(\"../managers/AsteroidField\"),\n\t\t\tproperties: {\n\t\t\t\tcount : 20\n\t\t\t} \n\t\t},\n\t\tjellyManager : {\n\t\t\tobject: require(\"../managers/EntityManager\"),\n\t\t\tproperties: {\n\t\t\t\tentityType: require('../entities/Jellyship'),\n\t\t\t\tcount: 25\n\t\t\t}\n\t\t},\n\t\tmusic : {\n\t\t\tobject: require(\"../sound/Music\"),\n\t\t\tproperties: {\n\t\t\t\turl: \"https://soundcloud.com/theelectrochippers/the-end-of-our-journey\"\n\t\t\t}\n\t\t}\n\t}\n};","module.exports = {\n\tasteroidsJellies : require(\"./asteroidsJellies\"),\n\ttitles : require(\"./titles\"),\n\tintro : require(\"./intro\")\n};","module.exports = {\n\tconfig : {\n\t\tr : 120,\n\t\theight : 60,\n\t\tcircumference : 900,\n\t\tcameraMultiplier : 2,\n\t\tscoringAndWinning: {\n\t\t\tmessage: \"You saved this sector<br/>on to the next level.\",\n\t\t\tnextLevel: \"asteroidsJellies\",\n\t\t\tconditions: [\n\t\t\t\t{\n\t\t\t\t\t//Jelly manager has 0 live ships\n\t\t\t\t\tcomponent: \"jellyManager\",\n\t\t\t\t\tproperties: null\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\tstars: {\n\t\t\tcount: 3000\n\t\t}\n\t},\n\tobjects : {\n\t\tcylinderLines : {\n\t\t\tobject: require(\"../components/CylinderLines\"),\n\t\t\tproperties: {}\n\t\t},\n\t\tcameraIntro : {\n\t\t\tobject: require(\"../components/CameraIntro\"),\n\t\t\tproperties: {\n\t\t\t\tspeed : 0.985\n\t\t\t}\n\t\t},\n\t\tjellyManager : {\n\t\t\tobject: require(\"../managers/EntityManager\"),\n\t\t\tproperties: {\n\t\t\t\tentityType: require('../entities/Jellyship'),\n\t\t\t\tcount: 5\n\t\t\t}\n\t\t},\n\t\tmusic : {\n\t\t\tobject: require(\"../sound/Music\"),\n\t\t\tproperties: {\n\t\t\t\turl: \"https://soundcloud.com/theelectrochippers/the-sun-is-rising-chip-music\"\n\t\t\t}\n\t\t}\n\t}\n};","module.exports = {\n\tconfig : {\n\t\t\n\t},\n\tobjects : {\n\t\ttitles : {\n\t\t\tobject: require(\"../components/Titles\"),\n\t\t\tproperties: {}\n\t\t},\n\t\tmusic : {\n\t\t\tobject: require(\"../sound/Music\"),\n\t\t\tproperties: {\n\t\t\t\turl: \"https://soundcloud.com/theelectrochippers/chiptune-space\",\n\t\t\t\tstartTime: 12,\n\t\t\t\tvolume: 1\n\t\t\t}\n\t\t}\n\t}\n};","var Asteroid = require('../entities/Asteroid');\n\nvar AsteroidField = function( poem, properties ) {\n\t\n\tthis.poem = poem;\n\tthis.asteroids = [];\n\tthis.maxRadius = 50;\n\tthis.originClearance = 30;\n\tthis.count = 20;\n\t\n\t_.extend( this, properties ) ;\n\t\n\tthis.generate( this.count );\n\t\n\tthis.poem.on('update', this.update.bind(this) );\n\tthis.poem.gun.setBarrierCollider( this.asteroids );\n};\n\nmodule.exports = AsteroidField;\n\nAsteroidField.prototype = {\n\t\n\tgenerate : function( count ) {\n\t\t\n\t\tvar i, x, y, height, width, radius;\n\t\t\n\t\theight = this.poem.height * 4;\n\t\twidth = this.poem.circumference;\n\t\t\n\t\tfor( i=0; i < count; i++ ) {\n\t\t\t\n\t\t\tdo {\n\t\t\t\t\n\t\t\t\tx = Math.random() * width;\n\t\t\t\ty = Math.random() * height - (height / 2);\n\t\t\t\n\t\t\t\tradius = Math.random() * this.maxRadius;\n\t\t\t\t\n\t\t\t} while(\n\t\t\t\tthis.checkCollision( x, y, radius ) &&\n\t\t\t\tthis.checkFreeOfOrigin( x, y, radius )\n\t\t\t);\n\t\t\t\n\t\t\tthis.asteroids.push(\n\t\t\t\tnew Asteroid( this.poem, x, y, radius )\n\t\t\t);\n\t\t\n\t\t}\n\t\t\n\t},\n\t\n\tupdate : function( e ) {\n\t\t\n\t\t_.each( this.asteroids, function(asteroid) {\n\t\t\t\n\t\t\tasteroid.update( e );\n\t\t\t\n\t\t}, this);\n\t\t\n\t\tif( !this.poem.ship.dead && !this.poem.ship.invulnerable ) {\n\t\t\tvar shipCollision = this.checkCollision(\n\t\t\t\tthis.poem.ship.position.x,\n\t\t\t\tthis.poem.ship.position.y,\n\t\t\t\t2\n\t\t\t);\n\t\t\n\t\t\tif( shipCollision ) {\n\t\t\t\tthis.poem.ship.kill();\n\t\t\t}\n\t\t}\n\t\t\n\t},\n\t\n\tcheckFreeOfOrigin : function( x, y, radius ) {\n\t\treturn Math.sqrt(x*x + y*y) > radius + this.originClearance;\n\t},\n\t\n\tcheckCollision : function( x, y, radius ) {\n\t\t\n\t\tvar collision = _.find( this.asteroids, function( asteroid ) {\n\t\t\t\n\t\t\tvar dx, dy, distance;\n\t\t\t\n\t\t\tdx = this.poem.coordinates.circumferenceDistance( x, asteroid.position.x );\n\t\t\tdy = y - asteroid.position.y;\n\t\t\t\n\t\t\tdistance = Math.sqrt(dx * dx + dy * dy);\n\n\t\t\treturn distance < radius + asteroid.radius;\n\t\t\t\n\t\t}, this);\n\t\t\n\t\treturn !!collision;\n\t}\n};","var Collider = require('../utils/Collider');\nvar DefaultJellyShip = require('../entities/JellyShip');\nvar EventDispatcher = require('../utils/EventDispatcher');\n\nvar EntityManager = function( poem, properties ) {\n\t\n\tthis.poem = poem;\n\tthis.entityType = DefaultJellyShip;\n\tthis.count = 20;\n\tthis.entities = [];\n\tthis.liveEntities = [];\n\tthis.originClearance = 300;\n\tthis.shared = {};\n\tthis.winCheck = null;\n\t\t\n\t_.extend( this, properties );\n\t\n\tif( _.isFunction( this.entityType.prototype.initSharedAssets ) ) {\n\t\tthis.entityType.prototype.initSharedAssets( this );\n\t}\n\tthis.generate( this.count );\n\tthis.configureCollider();\n\n\tthis.boundUpdate = this.update.bind(this);\n\t\n\tthis.poem.on('update', this.boundUpdate );\n};\n\nmodule.exports = EntityManager;\n\nEntityManager.prototype = {\n\t\n\tgenerate : function( count ) {\n\t\t\n\t\tvar i, x, y, height, width, entity;\n\t\t\n\t\theight = this.poem.height * 4;\n\t\twidth = this.poem.circumference;\n\t\t\n\t\tfor( i=0; i < count; i++ ) {\n\t\t\t\n\t\t\tx = Math.random() * width;\n\t\t\ty = Math.random() * height - (height / 2);\n\t\t\t\n\t\t\tentity = new this.entityType( this.poem, this, x, y );\n\t\t\t\n\t\t\tthis.entities.push( entity );\n\t\t\tthis.liveEntities.push( entity );\n\t\t\n\t\t}\n\t\t\n\t\tthis.poem.scoringAndWinning.adjustEnemies( count );\n\t\t\n\t},\n\t\n\tupdate : function( e ) {\n\t\t\n\t\tthis.dispatch( e );\n\t\t\n\t\t\n\t},\n\t\n\tkillEntity : function( entity ) {\n\t\t\n\t\tvar i = this.liveEntities.indexOf( entity );\n\t\t\n\t\tif( i >= 0 ) {\n\t\t\tthis.liveEntities.splice( i, 1 );\n\t\t}\n\t\t\n\t\tentity.kill();\n\t\t\n\t\tif( this.winCheck && this.liveEntities.length === 0 ) {\n\t\t\tthis.winCheck.reportConditionCompleted();\n\t\t\tthis.winCheck = null;\n\t\t}\n\t},\n\t\n\tconfigureCollider : function() {\n\t\tnew Collider(\n\t\t\t\n\t\t\tthis.poem,\n\t\t\t\n\t\t\tfunction() {\n\t\t\t\treturn this.liveEntities;\n\t\t\t}.bind(this),\n\t\t\t\n\t\t\tfunction() {\n\t\t\t\treturn this.poem.gun.liveBullets;\n\t\t\t}.bind(this),\n\t\t\t\n\t\t\tfunction(entity, bullet) {\n\t\t\t\t\n\t\t\t\tthis.killEntity( entity );\n\t\t\t\tthis.poem.gun.killBullet( bullet );\n\t\t\t\t\n\t\t\t\tthis.poem.scoringAndWinning.adjustScore(\n\t\t\t\t\tentity.scoreValue,\n\t\t\t\t\t\"+\" + entity.scoreValue + \" \" + entity.name, \n\t\t\t\t\t{\n\t\t\t\t\t\t\"color\" : entity.cssColor\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tthis.poem.scoringAndWinning.adjustEnemies( -1 );\n\t\t\t\t\n\t\t\t}.bind(this)\n\t\t\t\n\t\t);\n\t\t\n\t\tnew Collider(\n\t\t\t\n\t\t\tthis.poem,\n\t\t\t\n\t\t\tfunction() {\n\t\t\t\treturn this.liveEntities;\n\t\t\t}.bind(this),\n\t\t\t\n\t\t\tfunction() {\n\t\t\t\treturn [this.poem.ship];\n\t\t\t}.bind(this),\n\t\t\t\n\t\t\tfunction(entity, bullet) {\n\t\t\t\t\n\t\t\t\tif( !this.poem.ship.dead && !this.poem.ship.invulnerable ) {\n\t\t\t\t\t\n\t\t\t\t\tthis.killEntity( entity );\n\t\t\t\t\tthis.poem.ship.kill();\n\t\t\t\t\t\n\t\t\t\t\tthis.poem.scoringAndWinning.adjustEnemies( -1 );\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t}.bind(this)\n\t\t\t\n\t\t);\n\t\t\n\t},\n\t\n\twatchForCompletion : function( winCheck, properties ) {\n\t\tthis.winCheck = winCheck;\n\t}\n};\n\nEventDispatcher.prototype.apply( EntityManager.prototype );","var Bullet = require('../entities/Bullet');\nvar Collider = require('../utils/Collider');\nvar SoundGenerator = require('../sound/SoundGenerator');\n\nvar Gun = function( poem ) {\n\tthis.poem = poem;\n\tthis.object = null;\n\tthis.sound = null;\n\t\n\tthis.count = 350;\n\tthis.bulletAge = 5000;\n\tthis.fireDelayMilliseconds = 100;\n\tthis.lastFireTimestamp = this.poem.clock.time;\n\tthis.liveBullets = [];\n\tthis.bullets = [];\n\tthis.bornAt = 0;\n\n\tthis.addObject();\n\tthis.addSound();\n\t\n\tthis.poem.on('update', this.update.bind(this) );\n};\n\nmodule.exports = Gun;\n\nGun.prototype = {\n\t\n\tfire : function() {\n\t\t\n\t\tvar isDead = function( bullet ) {\n\t\t\treturn !bullet.alive;\n\t\t};\n\t\t\n\t\treturn function(x, y, speed, theta) {\n\t\t\t\n\t\t\tvar now = this.poem.clock.time;\n\t\t\t\n\t\t\tif( now - this.lastFireTimestamp < this.fireDelayMilliseconds ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis.lastFireTimestamp = now;\n\t\t\n\t\t\tvar bullet = _.find( this.bullets, isDead );\n\t\t\n\t\t\tif( !bullet ) return;\n\t\t\n\t\t\tthis.liveBullets.push( bullet );\n\t\t\n\t\t\tbullet.fire(x, y, speed, theta);\n\n\n\t\t\tvar freq = 1900;\n\t\t\t\n\t\t\t//Start sound\n\t\t\tthis.sound.setGain(0.1, 0, 0.001);\n\t\t\tthis.sound.setFrequency(freq, 0, 0);\n\t\t\t\n\n\t\t\t//End sound\n\t\t\tthis.sound.setGain(0, 0.01, 0.05);\n\t\t\tthis.sound.setFrequency(freq * 0.1, 0.01, 0.05);\n\t\t\t\n\t\t};\n\t}(),\n\t\n\tgenerateGeometry : function() {\n\t\t\n\t\tvar vertex, bullet;\n\t\t\n\t\tvar geometry = new THREE.Geometry();\n\t\t\n\t\tfor(var i=0; i < this.count; i++) {\n\t\t\t\n\t\t\tvertex = new THREE.Vector3();\n\t\t\tbullet = new Bullet( this.poem, this, vertex );\n\t\t\t\n\t\t\tgeometry.vertices.push( vertex );\n\t\t\tthis.bullets.push( bullet );\n\t\t\t\n\t\t\tbullet.kill();\n\t\t\t\t\t\n\t\t}\n\t\t\n\t\treturn geometry;\n\t},\n\t\n\tkillBullet : function( bullet ) {\n\t\t\n\t\tvar i = this.liveBullets.indexOf( bullet );\n\t\t\n\t\tif( i >= 0 ) {\n\t\t\tthis.liveBullets.splice( i, 1 );\n\t\t}\n\t\t\n\t\tbullet.kill();\n\t\t\n\t\tif( this.object ) this.object.geometry.verticesNeedUpdate = true;\n\t\t\n\t},\n\t\n\taddObject : function() {\n\t\t\n\t\tvar geometry, lineMaterial;\n\t\t\n\t\tgeometry = this.generateGeometry();\n\t\t\n\t\tthis.object = new THREE.PointCloud(\n\t\t\tgeometry,\n\t\t\tnew THREE.PointCloudMaterial({\n\t\t\t\t size: 1 * this.poem.ratio,\n\t\t\t\t color: 0xff0000\n\t\t\t}\n\t\t));\n\t\tthis.object.frustumCulled = false;\n\t\tthis.poem.scene.add( this.object ) ;\n\t\t\n\t},\n\t\n\tupdate : function( e )  {\n\t\tvar bullet, time;\n\t\t\n\t\tfor(var i=0; i<this.liveBullets.length; i++) {\n\t\t\tbullet = this.liveBullets[i];\n\t\t\t\n\t\t\tif(bullet.bornAt + this.bulletAge < e.time) {\n\t\t\t\tthis.killBullet( bullet );\n\t\t\t\ti--;\n\t\t\t} else {\n\t\t\t\tbullet.update( e.dt );\n\t\t\t}\n\t\t}\n\t\tif(this.liveBullets.length > 0) {\n\t\t\tthis.object.geometry.verticesNeedUpdate = true;\n\t\t}\n\t\t\n\t},\n\t\n\tsetBarrierCollider : function( collection ) {\n\t\t\n\t\t//Collide bullets with asteroids\n\t\tnew Collider(\n\t\t\t\n\t\t\tthis.poem,\n\t\t\t\n\t\t\tfunction() {\n\t\t\t\treturn collection;\n\t\t\t}.bind(this),\n\t\t\t\n\t\t\tfunction() {\n\t\t\t\treturn this.liveBullets;\n\t\t\t}.bind(this),\n\t\t\t\n\t\t\tfunction(barrier, bullet) {\n\t\t\t\tthis.killBullet( bullet );\n\t\t\t}.bind(this)\n\t\t\t\n\t\t);\n\t},\n\t\n\taddSound : function() {\n\t\t\n\t\tvar sound = this.sound = new SoundGenerator();\n\t\t\n\t\tsound.connectNodes([\n\t\t\tsound.makeOscillator( \"square\" ),\n\t\t\tsound.makeGain(),\n\t\t\tsound.getDestination()\n\t\t]);\n\t\t\n\t\tsound.setGain(0,0,0);\n\t\tsound.start();\n\t\t\n\t}\n};","var soundcloud = require('soundcloud-badge');\n\nvar Music = function( poem, properties ) {\n\n\tif(window.location.hash === \"#musicoff\") return;\n\n\tvar audio;\n\tvar alive = true;\n\n\tsoundcloud({\n\t\tclient_id: '6057c9af862bf245d4c402179e317f52',\n\t\tsong: properties.url,\n\t\tdark: false,\n\t\tgetFonts: false\n\t}, function(err, src, data, div) {\n\n\t\tif( !alive ) return;\n\t\tif( err ) throw err;\n\n\t\taudio = new Audio();\n\t\taudio.src = src;\n\t\taudio.play();\n\t\taudio.loop = true;\n\t\taudio.volume = properties.volume || 0.6;\n\t\t\n\t\t$(audio).on('loadedmetadata', function() {\n\t\t\taudio.currentTime = properties.startTime || 0;\n\t\t});\n\t\t\n\t\tvar playing = true;\n\t\t\n\t\t$(window).on('keydown.Music', function(e) {\n\t\t\tif( e.keyCode !== 83 ) return;\n\t\t\tif( playing ) {\n\t\t\t\taudio.pause();\n\t\t\t\tplaying = false;\n\t\t\t} else {\n\t\t\t\taudio.play();\n\t\t\t\tplaying = true;\n\t\t\t}\n\t\t});\n\t});\n\t\n\tpoem.on('destroy', function() {\n\t\tif(audio) {\n\t\t\taudio.pause();\n\t\t\taudio = null;\n\t\t}\n\t\t$(window).off('keydown.Music');\n\t\t$('.npm-scb-white').remove();\n\t});\n\t\n};\n\nmodule.exports = Music;","var _ = require('underscore');\nvar context = window.AudioContext || window.webkitAudioContext || null;\n\nvar SoundGenerator = function() {\n\t\n\tthis.enabled = context !== undefined;\n\t\n\tif(!this.enabled) return;\n\t\n\tthis.totalCreated++;\n\tthis.totalCreatedSq = this.totalCreated * this.totalCreated;\n};\n\nmodule.exports = SoundGenerator;\n\nSoundGenerator.prototype = {\n\t\n\tcontext : context ? new context() : undefined,\n\t\n\tmakePinkNoise : function( bufferSize ) {\n\t\n\t\tvar b0, b1, b2, b3, b4, b5, b6, node; \n\t\t\n\t\tb0 = b1 = b2 = b3 = b4 = b5 = b6 = 0.0;\n\t\tnode = this.pinkNoise = this.context.createScriptProcessor(bufferSize, 1, 1);\n\t\t\n\t\tnode.onaudioprocess = function(e) {\n\t\t\t\n\t\t\t// http://noisehack.com/generate-noise-web-audio-api/\n\t\t\tvar output = e.outputBuffer.getChannelData(0);\n\t\t\t\n\t\t\tfor (var i = 0; i < bufferSize; i++) {\n\t\t\t\tvar white = Math.random() * 2 - 1;\n\t\t\t\tb0 = 0.99886 * b0 + white * 0.0555179;\n\t\t\t\tb1 = 0.99332 * b1 + white * 0.0750759;\n\t\t\t\tb2 = 0.96900 * b2 + white * 0.1538520;\n\t\t\t\tb3 = 0.86650 * b3 + white * 0.3104856;\n\t\t\t\tb4 = 0.55000 * b4 + white * 0.5329522;\n\t\t\t\tb5 = -0.7616 * b5 - white * 0.0168980;\n\t\t\t\toutput[i] = b0 + b1 + b2 + b3 + b4 + b5 + b6 + white * 0.5362;\n\t\t\t\toutput[i] *= 0.11; // (roughly) compensate for gain\n\t\t\t\tb6 = white * 0.115926;\n\t\t\t}\n\t\t};\n\t\t\n\t\treturn node;\n\t\n\t},\n\t\n\tmakeOscillator : function( type, frequency ) {\n\t\t/*\n\t\t\tenum OscillatorType {\n\t\t\t  \"sine\",\n\t\t\t  \"square\",\n\t\t\t  \"sawtooth\",\n\t\t\t  \"triangle\",\n\t\t\t  \"custom\"\n\t\t\t}\n\t\t*/\n\t\t\n\t\tvar node = this.oscillator = this.context.createOscillator();\n\t\t\n\t\tnode.type = type || \"sawtooth\";\n\t\tnode.frequency.value = frequency || 2000;\n\t\t\n\t\treturn node;\n\t},\n\t\n\tmakeGain : function() {\n\t\tvar node = this.gain = this.context.createGain();\n\t\t\n\t\tnode.gain.value = 1;\n\t\t\n\t\treturn node;\n\t},\n\t\n\tmakePanner : function() {\n\t\t\n\t\tthis.context.listener.setPosition(0, 0, 0);\n\t\t\n\t\tvar node = this.panner = this.context.createPanner();\n\t\t\n\t\tnode.panningModel = 'equalpower';\n\t\tnode.coneOuterGain = 0.1;\n\t\tnode.coneOuterAngle = 180;\n\t\tnode.coneInnerAngle = 0;\n\t\t\n\t\treturn node;\n\t},\n\t\n\tmakeBandpass : function() {\n\n\t\tvar node = this.bandpass = this.context.createBiquadFilter();\n\t\t\n\t\tnode.type = \"bandpass\";\n\t\tnode.frequency.value = 440;\n\t\tnode.Q.value = 0.5;\n\t\t\n\t\treturn node;\n\n\t},\n\t\n\tgetDestination : function() {\n\t\treturn this.context.destination;\n\t},\n\t\n\tconnectNodes : function( nodes ) {\n\t\t_.each( _.rest( nodes ), function(node, i, list) {\n\t\t\tvar prevNode = nodes[i];\n\t\t\t\n\t\t\tprevNode.connect( node );\n\t\t});\n\t},\n\t\n\tstart : function() {\n\t\tthis.oscillator.start(0);\n\t},\n\t\n\ttotalCreated : 0,\n\t\n\tsetFrequency : function ( frequency, delay, speed ) {\n\t\tif(!this.enabled) return;\n\t\t\n\t\tthis.oscillator.frequency.setTargetAtTime(frequency, this.context.currentTime + delay, speed);\n\t},\n\t\n\tsetPosition : function ( x, y, z ) {\n\t\tif(!this.enabled) return;\n\t\tthis.panner.setPosition( x, y, z );\n\t},\n\t\n\tsetGain : function ( gain, delay, speed ) {\n\t\t\n\t\tif(!this.enabled) return;\n\t\t\n\t\t// Math.max( Math.abs( gain ), 1);\n\t\t// gain / this.totalCreatedSq;\n\t\t\t\t\n\t\tthis.gain.gain.setTargetAtTime(\n\t\t\tgain,\n\t\t\tthis.context.currentTime + delay,\n\t\t\tspeed\n\t\t);\n\t},\n\t\n\tsetBandpassQ : function ( Q ) {\n\t\tif(!this.enabled) return;\n\t\tthis.bandpass.Q.setTargetAtTime(Q, this.context.currentTime, 0.1);\n\t},\n\t\n\tsetBandpassFrequency : function ( frequency ) {\n\t\tif(!this.enabled) return;\n\t\tthis.bandpass.frequency.setTargetAtTime(frequency, this.context.currentTime, 0.1);\n\t}\n};","var Clock = function( autostart ) {\n\n\tthis.maxDt = 60;\n\tthis.minDt = 16;\n\tthis.pTime = 0;\n\tthis.time = 0;\n\t\n\tif(autostart !== false) {\n\t\tthis.start();\n\t}\n\t\n};\n\nmodule.exports = Clock;\n\nClock.prototype = {\n\n\tstart : function() {\n\t\tthis.pTime = Date.now();\n\t},\n\t\n\tgetDelta : function() {\n\t\tvar now, dt;\n\t\t\n\t\tnow = Date.now();\n\t\tdt = now - this.pTime;\n\t\t\n\t\tdt = Math.min( dt, this.maxDt );\n\t\tdt = Math.max( dt, this.minDt );\n\t\t\n\t\tthis.time += dt;\n\t\tthis.pTime = now;\n\t\t\n\t\treturn dt;\n\t}\n\t\n};","var _ = require('underscore');\n\nvar Collider = function( poem, getCollectionA, getCollectionB, onCollision ) {\n\t\n\tthis.poem = poem;\n\t\n\tthis.getCollectionA = getCollectionA;\n\tthis.getCollectionB = getCollectionB;\n\tthis.onCollision = onCollision;\n\t\n\tthis.poem.on('update', this.update.bind(this) );\n};\n\nmodule.exports = Collider;\n\nCollider.prototype = {\n\t\n\tupdate : function( e ) {\n\n\t\tvar collisions = [];\n\n\t\t_.each( this.getCollectionA(), function( itemFromA ) {\n\t\t\t\n\t\t\tvar collidedItemFromB = _.find( this.getCollectionB(), function( itemFromB ) {\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tvar dx, dy, distance;\n\t\t\t\n\t\t\t\tdx = this.poem.coordinates.circumferenceDistance( itemFromA.position.x, itemFromB.position.x );\n\t\t\t\tdy = itemFromA.position.y - itemFromB.position.y;\n\t\t\t\n\t\t\t\tdistance = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\t\n\t\t\t\n\t\t\t\treturn distance < itemFromA.radius + itemFromB.radius;\n\t\t\t\t\n\t\t\t}, this);\n\t\t\t\n\t\t\t\n\t\t\tif( collidedItemFromB ) {\n\t\t\t\tcollisions.push([itemFromA, collidedItemFromB]);\n\t\t\t}\n\t\t\t\n\t\t}, this);\n\t\t\n\t\t_.each( collisions, function( items ) {\n\t\t\tthis.onCollision( items[0], items[1] );\n\t\t}, this);\n\t}\n\t\n};","// Translates 2d points into 3d polar space\n\nvar Coordinates = function( poem ) {\n\tthis.poem = poem;\n\tthis.twoRSquared = 2 * (this.poem.r * this.poem.r);\n};\n\nmodule.exports = Coordinates;\n\nCoordinates.prototype = {\n\t\n\tx : function( x ) {\n\t\treturn Math.sin( x * this.poem.circumferenceRatio ) * this.poem.r;\n\t},\n\t\n\ty : function( y ) {\n\t\treturn y;\n\t},\n\t\n\tz : function( x ) {\n\t\treturn Math.cos( x * this.poem.circumferenceRatio ) * this.poem.r;\n\t},\n\t\n\tr : function(x, z) {\n\t\treturn Math.sqrt(x*x + z*z);\n\t},\n\t\n\ttheta : function(x, z) {\n\t\treturn Math.atan( z / x );\n\t},\n\t\n\tsetVector : function( vector ) {\n\t\t\n\t\tvar x, y, vector2;\n\t\t\n\t\tif( typeof arguments[1] === \"number\" ) {\n\t\t\t\n\t\t\tx = arguments[1];\n\t\t\ty = arguments[2];\n\t\t\t\n\t\t\treturn vector.set(\n\t\t\t\tthis.x(x),\n\t\t\t\ty,\n\t\t\t\tthis.z(x)\n\t\t\t);\n\t\t\t\n\t\t} else {\n\t\t\t\n\t\t\tvector2 = arguments[1];\n\t\t\t\n\t\t\treturn vector.set(\n\t\t\t\tthis.x(vector2.x),\n\t\t\t\tvector2.y,\n\t\t\t\tthis.z(vector2.x)\n\t\t\t);\n\t\t}\n\t\t\n\t},\n\t\n\tgetVector : function( x, y ) {\n\t\t\n\t\tvar vector = new THREE.Vector3();\n\t\treturn this.setVector( vector, x, y );\n\t\t\n\t},\n\t\n\tkeepInRangeX : function( x ) {\n\t\tif( x >= 0 ) {\n\t\t\treturn x % this.poem.circumference;\n\t\t} else {\n\t\t\treturn x + (x % this.poem.circumference);\n\t\t}\n\t},\n\t\n\tkeepInRangeY : function( y ) {\n\t\tif( y >= 0 ) {\n\t\t\treturn y % this.poem.height;\n\t\t} else {\n\t\t\treturn y + (y % this.poem.height);\n\t\t}\n\t},\n\t\n\tkeepInRange : function( vector ) {\n\t\tvector.x = this.keepInRangeX( vector.x );\n\t\tvector.y = this.keepInRangeX( vector.y );\n\t\treturn vector;\n\t},\n\t\n\ttwoXToTheta : function( x ) {\n\t\treturn x * this.poem.circumferenceRatio;\n\t},\n\t\n\tcircumferenceDistance : function (x1, x2) {\n\t\t\n\t\tvar ratio = this.poem.circumferenceRatio;\n\t\t\n\t\treturn this.twoRSquared - this.twoRSquared * Math.cos( x1 * ratio - x2 * ratio );\n\t\t\n\t}\n\t\n};\n","/**\n * @author mrdoob / http://mrdoob.com/\n *\n * Modifications: Greg Tatum\n *\n * usage:\n * \n * \t\tEventDispatcher.prototype.apply( MyObject.prototype );\n * \n * \t\tMyObject.dispatch({\n * \t\t\ttype: \"click\",\n * \t\t\tdatum1: \"foo\",\n * \t\t\tdatum2: \"bar\"\n * \t\t});\n * \n * \t\tMyObject.on( \"click\", function( event ) {\n * \t\t\tevent.datum1; //Foo\n * \t\t\tevent.target; //MyObject\n * \t\t});\n * \n *\n */\n\nvar EventDispatcher = function () {};\n\nEventDispatcher.prototype = {\n\n\tconstructor: EventDispatcher,\n\n\tapply: function ( object ) {\n\n\t\tobject.on\t\t\t\t\t= EventDispatcher.prototype.on;\n\t\tobject.hasEventListener\t\t= EventDispatcher.prototype.hasEventListener;\n\t\tobject.off\t\t\t\t\t= EventDispatcher.prototype.off;\n\t\tobject.dispatch\t\t\t\t= EventDispatcher.prototype.dispatch;\n\n\t},\n\n\ton: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tvar listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tvar listeners = this._listeners;\n\n\t\tif ( listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\toff: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tvar index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatch: function ( event ) {\n\t\t\t\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\tvar array = [];\n\t\t\tvar length = listenerArray.length;\n\t\t\tvar i;\n\n\t\t\tfor ( i = 0; i < length; i ++ ) {\n\n\t\t\t\tarray[ i ] = listenerArray[ i ];\n\n\t\t\t}\n\n\t\t\tfor ( i = 0; i < length; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n};\n\nif ( typeof module === 'object' ) {\n\n\tmodule.exports = EventDispatcher;\n\n}","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Stats = function () {\n\n\tvar startTime = Date.now(), prevTime = startTime;\n\tvar ms = 0, msMin = Infinity, msMax = 0;\n\tvar fps = 0, fpsMin = Infinity, fpsMax = 0;\n\tvar frames = 0, mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.id = 'stats';\n\tcontainer.addEventListener( 'mousedown', function ( event ) { event.preventDefault(); setMode( ++ mode % 2 ); }, false );\n\tcontainer.style.cssText = 'width:80px;opacity:0.9;cursor:pointer';\n\n\tvar fpsDiv = document.createElement( 'div' );\n\tfpsDiv.id = 'fps';\n\tfpsDiv.style.cssText = 'padding:0 0 3px 3px;text-align:left;background-color:#002';\n\tcontainer.appendChild( fpsDiv );\n\n\tvar fpsText = document.createElement( 'div' );\n\tfpsText.id = 'fpsText';\n\tfpsText.style.cssText = 'color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px';\n\tfpsText.innerHTML = 'FPS';\n\tfpsDiv.appendChild( fpsText );\n\n\tvar fpsGraph = document.createElement( 'div' );\n\tfpsGraph.id = 'fpsGraph';\n\tfpsGraph.style.cssText = 'position:relative;width:74px;height:30px;background-color:#0ff';\n\tfpsDiv.appendChild( fpsGraph );\n\n\twhile ( fpsGraph.children.length < 74 ) {\n\n\t\tvar bar = document.createElement( 'span' );\n\t\tbar.style.cssText = 'width:1px;height:30px;float:left;background-color:#113';\n\t\tfpsGraph.appendChild( bar );\n\n\t}\n\n\tvar msDiv = document.createElement( 'div' );\n\tmsDiv.id = 'ms';\n\tmsDiv.style.cssText = 'padding:0 0 3px 3px;text-align:left;background-color:#020;display:none';\n\tcontainer.appendChild( msDiv );\n\n\tvar msText = document.createElement( 'div' );\n\tmsText.id = 'msText';\n\tmsText.style.cssText = 'color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px';\n\tmsText.innerHTML = 'MS';\n\tmsDiv.appendChild( msText );\n\n\tvar msGraph = document.createElement( 'div' );\n\tmsGraph.id = 'msGraph';\n\tmsGraph.style.cssText = 'position:relative;width:74px;height:30px;background-color:#0f0';\n\tmsDiv.appendChild( msGraph );\n\n\twhile ( msGraph.children.length < 74 ) {\n\n\t\tvar bar2 = document.createElement( 'span' );\n\t\tbar2.style.cssText = 'width:1px;height:30px;float:left;background-color:#131';\n\t\tmsGraph.appendChild( bar2 );\n\n\t}\n\n\tvar setMode = function ( value ) {\n\n\t\tmode = value;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 0:\n\t\t\t\tfpsDiv.style.display = 'block';\n\t\t\t\tmsDiv.style.display = 'none';\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tfpsDiv.style.display = 'none';\n\t\t\t\tmsDiv.style.display = 'block';\n\t\t\t\tbreak;\n\t\t}\n\n\t};\n\n\tvar updateGraph = function ( dom, value ) {\n\n\t\tvar child = dom.appendChild( dom.firstChild );\n\t\tchild.style.height = value + 'px';\n\n\t};\n\n\treturn {\n\n\t\tREVISION: 12,\n\n\t\tdomElement: container,\n\n\t\tsetMode: setMode,\n\n\t\tbegin: function () {\n\n\t\t\tstartTime = Date.now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tvar time = Date.now();\n\n\t\t\tms = time - startTime;\n\t\t\tmsMin = Math.min( msMin, ms );\n\t\t\tmsMax = Math.max( msMax, ms );\n\n\t\t\tmsText.textContent = ms + ' MS (' + msMin + '-' + msMax + ')';\n\t\t\tupdateGraph( msGraph, Math.min( 30, 30 - ( ms / 200 ) * 30 ) );\n\n\t\t\tframes ++;\n\n\t\t\tif ( time > prevTime + 1000 ) {\n\n\t\t\t\tfps = Math.round( ( frames * 1000 ) / ( time - prevTime ) );\n\t\t\t\tfpsMin = Math.min( fpsMin, fps );\n\t\t\t\tfpsMax = Math.max( fpsMax, fps );\n\n\t\t\t\tfpsText.textContent = fps + ' FPS (' + fpsMin + '-' + fpsMax + ')';\n\t\t\t\tupdateGraph( fpsGraph, Math.min( 30, 30 - ( fps / 100 ) * 30 ) );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tstartTime = this.end();\n\n\t\t}\n\n\t};\n\n};\n\nif ( typeof module === 'object' ) {\n\n\tmodule.exports = Stats;\n\n}","var random = {\n\t\n\tflip : function() {\n\t\treturn Math.random() > 0.5 ? true: false;\n\t},\n\t\n\trange : function(min, max) {\n\t\treturn Math.random() * (max - min) + min;\n\t},\n\t\n\trangeInt : function(min, max) {\n\t\treturn Math.floor( this.range(min, max + 1) );\n\t},\n\t\n\trangeLow : function(min, max) {\n\t\t//More likely to return a low value\n\t  return Math.random() * Math.random() * (max - min) + min;\n\t},\n\t\n\trangeHigh : function(min, max) {\n\t\t//More likely to return a high value\n\t\treturn (1 - Math.random() * Math.random()) * (max - min) + min;\n\t}\n\t \n};\n\nmodule.exports = random;\n","","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","var resolve = require('soundcloud-resolve')\nvar fonts = require('google-fonts')\nvar minstache = require('minstache')\nvar insert = require('insert-css')\nvar fs = require('fs')\n\nvar icons = {\n    black: 'http://developers.soundcloud.com/assets/logo_black.png'\n  , white: 'http://developers.soundcloud.com/assets/logo_white.png'\n}\n\nmodule.exports = badge\nfunction noop(err){ if (err) throw err }\n\nvar inserted = false\nvar gwfadded = false\nvar template = null\n\nfunction badge(options, callback) {\n  if (!inserted) insert(\".npm-scb-wrap {\\n  font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\\n  font-weight: 200;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 999;\\n}\\n\\n.npm-scb-wrap a {\\n  text-decoration: none;\\n  color: #000;\\n}\\n.npm-scb-white\\n.npm-scb-wrap a {\\n  color: #fff;\\n}\\n\\n.npm-scb-inner {\\n  position: absolute;\\n  top: -120px; left: 0;\\n  padding: 8px;\\n  width: 100%;\\n  height: 150px;\\n  z-index: 2;\\n  -webkit-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\\n     -moz-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\\n      -ms-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\\n       -o-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\\n          transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\\n}\\n.npm-scb-wrap:hover\\n.npm-scb-inner {\\n  top: 0;\\n}\\n\\n.npm-scb-artwork {\\n  position: absolute;\\n  top: 16px; left: 16px;\\n  width: 104px; height: 104px;\\n  box-shadow: 0 0 8px -3px #000;\\n  outline: 1px solid rgba(0,0,0,0.1);\\n  z-index: 2;\\n}\\n.npm-scb-white\\n.npm-scb-artwork {\\n  outline: 1px solid rgba(255,255,255,0.1);\\n  box-shadow: 0 0 10px -2px rgba(255,255,255,0.9);\\n}\\n\\n.npm-scb-info {\\n  position: absolute;\\n  top: 16px;\\n  left: 120px;\\n  width: 300px;\\n  z-index: 1;\\n}\\n\\n.npm-scb-info > a {\\n  display: block;\\n}\\n\\n.npm-scb-now-playing {\\n  font-size: 12px;\\n  line-height: 12px;\\n  position: absolute;\\n  width: 500px;\\n  z-index: 1;\\n  padding: 15px 0;\\n  top: 0; left: 138px;\\n  opacity: 1;\\n  -webkit-transition: opacity 0.25s;\\n     -moz-transition: opacity 0.25s;\\n      -ms-transition: opacity 0.25s;\\n       -o-transition: opacity 0.25s;\\n          transition: opacity 0.25s;\\n}\\n\\n.npm-scb-wrap:hover\\n.npm-scb-now-playing {\\n  opacity: 0;\\n}\\n\\n.npm-scb-white\\n.npm-scb-now-playing {\\n  color: #fff;\\n}\\n.npm-scb-now-playing > a {\\n  font-weight: bold;\\n}\\n\\n.npm-scb-info > a > p {\\n  margin: 0;\\n  padding-bottom: 0.25em;\\n  line-height: 1.35em;\\n  margin-left: 1em;\\n  font-size: 1em;\\n}\\n\\n.npm-scb-title {\\n  font-weight: bold;\\n}\\n\\n.npm-scb-icon {\\n  position: absolute;\\n  top: 120px;\\n  padding-top: 0.75em;\\n  left: 16px;\\n}\\n\"), inserted = true\n  if (!template) template = minstache.compile(\"<div class=\\\"npm-scb-wrap\\\">\\n  <div class=\\\"npm-scb-inner\\\">\\n    <a target=\\\"_blank\\\" href=\\\"{{urls.song}}\\\">\\n      <img class=\\\"npm-scb-icon\\\" src=\\\"{{icon}}\\\">\\n      <img class=\\\"npm-scb-artwork\\\" src=\\\"{{artwork}}\\\">\\n    </a>\\n    <div class=\\\"npm-scb-info\\\">\\n      <a target=\\\"_blank\\\" href=\\\"{{urls.song}}\\\">\\n        <p class=\\\"npm-scb-title\\\">{{title}}</p>\\n      </a>\\n      <a target=\\\"_blank\\\" href=\\\"{{urls.artist}}\\\">\\n        <p class=\\\"npm-scb-artist\\\">{{artist}}</p>\\n      </a>\\n    </div>\\n  </div>\\n  <div class=\\\"npm-scb-now-playing\\\">\\n    Now Playing:\\n    <a href=\\\"{{urls.song}}\\\">{{title}}</a>\\n    by\\n    <a href=\\\"{{urls.artist}}\\\">{{artist}}</a>\\n  </div>\\n</div>\\n\")\n\n  if (!gwfadded && options.getFonts) {\n    fonts.add({ 'Open Sans': [300, 600] })\n    gwfadded = true\n  }\n\n  options = options || {}\n  callback = callback || noop\n\n  var div   = options.el || document.createElement('div')\n  var icon  = !('dark' in options) || options.dark ? 'black' : 'white'\n  var id    = options.client_id\n  var song  = options.song\n\n  resolve(id, song, function(err, json) {\n    if (err) return callback(err)\n    if (json.kind !== 'track') throw new Error(\n      'soundcloud-badge only supports individual tracks at the moment'\n    )\n\n    div.classList[\n      icon === 'black' ? 'remove' : 'add'\n    ]('npm-scb-white')\n\n    div.innerHTML = template({\n        artwork: json.artwork_url || json.user.avatar_url\n      , artist: json.user.username\n      , title: json.title\n      , icon: icons[icon]\n      , urls: {\n          song: json.permalink_url\n        , artist: json.user.permalink_url\n      }\n    })\n\n    document.body.appendChild(div)\n\n    callback(null, json.stream_url + '?client_id=' + id, json, div)\n  })\n\n  return div\n}\n","module.exports = asString\nmodule.exports.add = append\n\nfunction asString(fonts) {\n  var href = getHref(fonts)\n  return '<link href=\"' + href + '\" rel=\"stylesheet\" type=\"text/css\">'\n}\n\nfunction asElement(fonts) {\n  var href = getHref(fonts)\n  var link = document.createElement('link')\n  link.setAttribute('href', href)\n  link.setAttribute('rel', 'stylesheet')\n  link.setAttribute('type', 'text/css')\n  return link\n}\n\nfunction getHref(fonts) {\n  var family = Object.keys(fonts).map(function(name) {\n    var details = fonts[name]\n    name = name.replace(/\\s+/, '+')\n    return typeof details === 'boolean'\n      ? name\n      : name + ':' + makeArray(details).join(',')\n  }).join('|')\n\n  return 'http://fonts.googleapis.com/css?family=' + family\n}\n\nfunction append(fonts) {\n  var link = asElement(fonts)\n  document.head.appendChild(link)\n  return link\n}\n\nfunction makeArray(arr) {\n  return Array.isArray(arr) ? arr : [arr]\n}\n","var inserted = [];\n\nmodule.exports = function (css) {\n    if (inserted.indexOf(css) >= 0) return;\n    inserted.push(css);\n    \n    var elem = document.createElement('style');\n    var text = document.createTextNode(css);\n    elem.appendChild(text);\n    \n    if (document.head.childNodes.length) {\n        document.head.insertBefore(elem, document.head.childNodes[0]);\n    }\n    else {\n        document.head.appendChild(elem);\n    }\n};\n","\n/**\n * Expose `render()`.`\n */\n\nexports = module.exports = render;\n\n/**\n * Expose `compile()`.\n */\n\nexports.compile = compile;\n\n/**\n * Render the given mustache `str` with `obj`.\n *\n * @param {String} str\n * @param {Object} obj\n * @return {String}\n * @api public\n */\n\nfunction render(str, obj) {\n  obj = obj || {};\n  var fn = compile(str);\n  return fn(obj);\n}\n\n/**\n * Compile the given `str` to a `Function`.\n *\n * @param {String} str\n * @return {Function}\n * @api public\n */\n\nfunction compile(str) {\n  var js = [];\n  var toks = parse(str);\n  var tok;\n\n  for (var i = 0; i < toks.length; ++i) {\n    tok = toks[i];\n    if (i % 2 == 0) {\n      js.push('\"' + tok.replace(/\"/g, '\\\\\"') + '\"');\n    } else {\n      switch (tok[0]) {\n        case '/':\n          tok = tok.slice(1);\n          js.push(') + ');\n          break;\n        case '^':\n          tok = tok.slice(1);\n          assertProperty(tok);\n          js.push(' + section(obj, \"' + tok + '\", true, ');\n          break;\n        case '#':\n          tok = tok.slice(1);\n          assertProperty(tok);\n          js.push(' + section(obj, \"' + tok + '\", false, ');\n          break;\n        case '!':\n          tok = tok.slice(1);\n          assertProperty(tok);\n          js.push(' + obj.' + tok + ' + ');\n          break;\n        default:\n          assertProperty(tok);\n          js.push(' + escape(obj.' + tok + ') + ');\n      }\n    }\n  }\n\n  js = '\\n'\n    + indent(escape.toString()) + ';\\n\\n'\n    + indent(section.toString()) + ';\\n\\n'\n    + '  return ' + js.join('').replace(/\\n/g, '\\\\n');\n\n  return new Function('obj', js);\n}\n\n/**\n * Assert that `prop` is a valid property.\n *\n * @param {String} prop\n * @api private\n */\n\nfunction assertProperty(prop) {\n  if (!prop.match(/^[\\w.]+$/)) throw new Error('invalid property \"' + prop + '\"');\n}\n\n/**\n * Parse `str`.\n *\n * @param {String} str\n * @return {Array}\n * @api private\n */\n\nfunction parse(str) {\n  return str.split(/\\{\\{|\\}\\}/);\n}\n\n/**\n * Indent `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction indent(str) {\n  return str.replace(/^/gm, '  ');\n}\n\n/**\n * Section handler.\n *\n * @param {Object} context obj\n * @param {String} prop\n * @param {String} str\n * @param {Boolean} negate\n * @api private\n */\n\nfunction section(obj, prop, negate, str) {\n  var val = obj[prop];\n  if ('function' == typeof val) return val.call(obj, str);\n  if (negate) val = !val;\n  if (val) return str;\n  return '';\n}\n\n/**\n * Escape the given `html`.\n *\n * @param {String} html\n * @return {String}\n * @api private\n */\n\nfunction escape(html) {\n  return String(html)\n    .replace(/&/g, '&amp;')\n    .replace(/\"/g, '&quot;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n}\n","var qs  = require('querystring')\nvar xhr = require('xhr')\n\nmodule.exports = resolve\n\nfunction resolve(id, goal, callback) {\n  var uri = 'http://api.soundcloud.com/resolve.json?' + qs.stringify({\n      url: goal\n    , client_id: id\n  })\n\n  xhr({\n      uri: uri\n    , method: 'GET'\n  }, function(err, res, body) {\n    if (err) return callback(err)\n    try {\n      body = JSON.parse(body)\n    } catch(e) {\n      return callback(e)\n    }\n    if (body.errors) return callback(new Error(\n      body.errors[0].error_message\n    ))\n    return callback(null, body)\n  })\n}\n","var window = require(\"global/window\")\nvar once = require(\"once\")\n\nvar messages = {\n    \"0\": \"Internal XMLHttpRequest Error\",\n    \"4\": \"4xx Client Error\",\n    \"5\": \"5xx Server Error\"\n}\n\nvar XHR = window.XMLHttpRequest || noop\nvar XDR = \"withCredentials\" in (new XHR()) ?\n        window.XMLHttpRequest : window.XDomainRequest\n\nmodule.exports = createXHR\n\nfunction createXHR(options, callback) {\n    if (typeof options === \"string\") {\n        options = { uri: options }\n    }\n\n    options = options || {}\n    callback = once(callback)\n\n    var xhr\n\n    if (options.cors) {\n        xhr = new XDR()\n    } else {\n        xhr = new XHR()\n    }\n\n    var uri = xhr.url = options.uri\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var isJson = false\n\n    if (\"json\" in options) {\n        isJson = true\n        headers[\"Content-Type\"] = \"application/json\"\n        body = JSON.stringify(options.json)\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = load\n    xhr.onerror = error\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    // hate IE\n    xhr.ontimeout = noop\n    xhr.open(method, uri)\n    if (options.cors) {\n        xhr.withCredentials = true\n    }\n    xhr.timeout = \"timeout\" in options ? options.timeout : 5000\n\n    if ( xhr.setRequestHeader) {\n        Object.keys(headers).forEach(function (key) {\n            xhr.setRequestHeader(key, headers[key])\n        })\n    }\n\n    xhr.send(body)\n\n    return xhr\n\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            load()\n        }\n    }\n\n    function load() {\n        var error = null\n        var status = xhr.statusCode = xhr.status\n        var body = xhr.body = xhr.response ||\n            xhr.responseText || xhr.responseXML\n\n        if (status === 0 || (status >= 400 && status < 600)) {\n            var message = xhr.responseText ||\n                messages[String(xhr.status).charAt(0)]\n            error = new Error(message)\n\n            error.statusCode = xhr.status\n        }\n\n        if (isJson) {\n            try {\n                body = xhr.body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        callback(error, xhr, body)\n    }\n\n    function error(evt) {\n        callback(evt, xhr)\n    }\n}\n\n\nfunction noop() {}\n","(function (global){\nif (typeof window !== \"undefined\") {\n    module.exports = window\n} else if (typeof global !== \"undefined\") {\n    module.exports = global\n} else {\n    module.exports = {}\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})","module.exports = once\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var called = false\n  return function () {\n    if (called) return\n    called = true\n    return fn.apply(this, arguments)\n  }\n}\n","//     Underscore.js 1.7.0\n//     http://underscorejs.org\n//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    concat           = ArrayProto.concat,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind;\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.7.0';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var createCallback = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result  either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  _.iteratee = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return createCallback(value, context, argCount);\n    if (_.isObject(value)) return _.matches(value);\n    return _.property(value);\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    if (obj == null) return obj;\n    iteratee = createCallback(iteratee, context);\n    var i, length = obj.length;\n    if (length === +length) {\n      for (i = 0; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    if (obj == null) return [];\n    iteratee = _.iteratee(iteratee, context);\n    var keys = obj.length !== +obj.length && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length),\n        currentKey;\n    for (var index = 0; index < length; index++) {\n      currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  var reduceError = 'Reduce of empty array with no initial value';\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = function(obj, iteratee, memo, context) {\n    if (obj == null) obj = [];\n    iteratee = createCallback(iteratee, context, 4);\n    var keys = obj.length !== +obj.length && _.keys(obj),\n        length = (keys || obj).length,\n        index = 0, currentKey;\n    if (arguments.length < 3) {\n      if (!length) throw new TypeError(reduceError);\n      memo = obj[keys ? keys[index++] : index++];\n    }\n    for (; index < length; index++) {\n      currentKey = keys ? keys[index] : index;\n      memo = iteratee(memo, obj[currentKey], currentKey, obj);\n    }\n    return memo;\n  };\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = function(obj, iteratee, memo, context) {\n    if (obj == null) obj = [];\n    iteratee = createCallback(iteratee, context, 4);\n    var keys = obj.length !== + obj.length && _.keys(obj),\n        index = (keys || obj).length,\n        currentKey;\n    if (arguments.length < 3) {\n      if (!index) throw new TypeError(reduceError);\n      memo = obj[keys ? keys[--index] : --index];\n    }\n    while (index--) {\n      currentKey = keys ? keys[index] : index;\n      memo = iteratee(memo, obj[currentKey], currentKey, obj);\n    }\n    return memo;\n  };\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var result;\n    predicate = _.iteratee(predicate, context);\n    _.some(obj, function(value, index, list) {\n      if (predicate(value, index, list)) {\n        result = value;\n        return true;\n      }\n    });\n    return result;\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    if (obj == null) return results;\n    predicate = _.iteratee(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(_.iteratee(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    if (obj == null) return true;\n    predicate = _.iteratee(predicate, context);\n    var keys = obj.length !== +obj.length && _.keys(obj),\n        length = (keys || obj).length,\n        index, currentKey;\n    for (index = 0; index < length; index++) {\n      currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    if (obj == null) return false;\n    predicate = _.iteratee(predicate, context);\n    var keys = obj.length !== +obj.length && _.keys(obj),\n        length = (keys || obj).length,\n        index, currentKey;\n    for (index = 0; index < length; index++) {\n      currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given value (using `===`).\n  // Aliased as `include`.\n  _.contains = _.include = function(obj, target) {\n    if (obj == null) return false;\n    if (obj.length !== +obj.length) obj = _.values(obj);\n    return _.indexOf(obj, target) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      return (isFunc ? method : value[method]).apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matches(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matches(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = obj.length === +obj.length ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = _.iteratee(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = obj.length === +obj.length ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = _.iteratee(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n  _.shuffle = function(obj) {\n    var set = obj && obj.length === +obj.length ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (obj.length !== +obj.length) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = _.iteratee(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = _.iteratee(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = _.iteratee(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = array.length;\n    while (low < high) {\n      var mid = low + high >>> 1;\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (obj.length === +obj.length) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return obj.length === +obj.length ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = _.iteratee(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    if (n < 0) return [];\n    return slice.call(array, 0, n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N. The **guard** check allows it to work with\n  // `_.map`.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array. The **guard** check allows it to work with `_.map`.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return slice.call(array, Math.max(array.length - n, 0));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array. The **guard**\n  // check allows it to work with `_.map`.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, output) {\n    if (shallow && _.every(input, _.isArray)) {\n      return concat.apply(output, input);\n    }\n    for (var i = 0, length = input.length; i < length; i++) {\n      var value = input[i];\n      if (!_.isArray(value) && !_.isArguments(value)) {\n        if (!strict) output.push(value);\n      } else if (shallow) {\n        push.apply(output, value);\n      } else {\n        flatten(value, shallow, strict, output);\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false, []);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (array == null) return [];\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = _.iteratee(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = array.length; i < length; i++) {\n      var value = array[i];\n      if (isSorted) {\n        if (!i || seen !== value) result.push(value);\n        seen = value;\n      } else if (iteratee) {\n        var computed = iteratee(value, i, array);\n        if (_.indexOf(seen, computed) < 0) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (_.indexOf(result, value) < 0) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true, []));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    if (array == null) return [];\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = array.length; i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(slice.call(arguments, 1), true, true, []);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function(array) {\n    if (array == null) return [];\n    var length = _.max(arguments, 'length').length;\n    var results = Array(length);\n    for (var i = 0; i < length; i++) {\n      results[i] = _.pluck(arguments, i);\n    }\n    return results;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    if (list == null) return {};\n    var result = {};\n    for (var i = 0, length = list.length; i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = function(array, item, isSorted) {\n    if (array == null) return -1;\n    var i = 0, length = array.length;\n    if (isSorted) {\n      if (typeof isSorted == 'number') {\n        i = isSorted < 0 ? Math.max(0, length + isSorted) : isSorted;\n      } else {\n        i = _.sortedIndex(array, item);\n        return array[i] === item ? i : -1;\n      }\n    }\n    for (; i < length; i++) if (array[i] === item) return i;\n    return -1;\n  };\n\n  _.lastIndexOf = function(array, item, from) {\n    if (array == null) return -1;\n    var idx = array.length;\n    if (typeof from == 'number') {\n      idx = from < 0 ? idx + from + 1 : Math.min(idx, from + 1);\n    }\n    while (--idx >= 0) if (array[idx] === item) return idx;\n    return -1;\n  };\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (arguments.length <= 1) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Reusable constructor function for prototype setting.\n  var Ctor = function(){};\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    var args, bound;\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    args = slice.call(arguments, 2);\n    bound = function() {\n      if (!(this instanceof bound)) return func.apply(context, args.concat(slice.call(arguments)));\n      Ctor.prototype = func.prototype;\n      var self = new Ctor;\n      Ctor.prototype = null;\n      var result = func.apply(self, args.concat(slice.call(arguments)));\n      if (_.isObject(result)) return result;\n      return self;\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    return function() {\n      var position = 0;\n      var args = boundArgs.slice();\n      for (var i = 0, length = args.length; i < length; i++) {\n        if (args[i] === _) args[i] = arguments[position++];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return func.apply(this, args);\n    };\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = hasher ? hasher.apply(this, arguments) : key;\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = function(func) {\n    return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));\n  };\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        clearTimeout(timeout);\n        timeout = null;\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last > 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed after being called N times.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed before being called N times.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      } else {\n        func = null;\n      }\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Retrieve the names of an object's properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n      source = arguments[i];\n      for (prop in source) {\n        if (hasOwnProperty.call(source, prop)) {\n            obj[prop] = source[prop];\n        }\n      }\n    }\n    return obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(obj, iteratee, context) {\n    var result = {}, key;\n    if (obj == null) return result;\n    if (_.isFunction(iteratee)) {\n      iteratee = createCallback(iteratee, context);\n      for (key in obj) {\n        var value = obj[key];\n        if (iteratee(value, key, obj)) result[key] = value;\n      }\n    } else {\n      var keys = concat.apply([], slice.call(arguments, 1));\n      obj = new Object(obj);\n      for (var i = 0, length = keys.length; i < length; i++) {\n        key = keys[i];\n        if (key in obj) result[key] = obj[key];\n      }\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(concat.apply([], slice.call(arguments, 1)), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n      var source = arguments[i];\n      for (var prop in source) {\n        if (obj[prop] === void 0) obj[prop] = source[prop];\n      }\n    }\n    return obj;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n    if (typeof a != 'object' || typeof b != 'object') return false;\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n    // Objects with different constructors are not equivalent, but `Object`s\n    // from different frames are.\n    var aCtor = a.constructor, bCtor = b.constructor;\n    if (\n      aCtor !== bCtor &&\n      // Handle Object.create(x) cases\n      'constructor' in a && 'constructor' in b &&\n      !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n        _.isFunction(bCtor) && bCtor instanceof bCtor)\n    ) {\n      return false;\n    }\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n    var size, result;\n    // Recursively compare objects and arrays.\n    if (className === '[object Array]') {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      size = a.length;\n      result = size === b.length;\n      if (result) {\n        // Deep compare the contents, ignoring non-numeric properties.\n        while (size--) {\n          if (!(result = eq(a[size], b[size], aStack, bStack))) break;\n        }\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      size = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      result = _.keys(b).length === size;\n      if (result) {\n        while (size--) {\n          // Deep compare each member\n          key = keys[size];\n          if (!(result = _.has(b, key) && eq(a[key], b[key], aStack, bStack))) break;\n        }\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return result;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b, [], []);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (_.isArray(obj) || _.isString(obj) || _.isArguments(obj)) return obj.length === 0;\n    for (var key in obj) if (_.has(obj, key)) return false;\n    return true;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around an IE 11 bug.\n  if (typeof /./ !== 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = function(key) {\n    return function(obj) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of `key:value` pairs.\n  _.matches = function(attrs) {\n    var pairs = _.pairs(attrs), length = pairs.length;\n    return function(obj) {\n      if (obj == null) return !length;\n      obj = new Object(obj);\n      for (var i = 0; i < length; i++) {\n        var pair = pairs[i], key = pair[0];\n        if (pair[1] !== obj[key] || !(key in obj)) return false;\n      }\n      return true;\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = createCallback(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property) {\n    if (object == null) return void 0;\n    var value = object[property];\n    return _.isFunction(value) ? object[property]() : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(obj) {\n    return this._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result.call(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result.call(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result.call(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define === 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}.call(this));\n"],"sourceRoot":"/source/"}